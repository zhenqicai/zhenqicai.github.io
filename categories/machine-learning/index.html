<!doctype html><html lang=zh-cn><head><title>Machine Learning</title><meta charset=utf-8><meta name=renderer content="webkit"><meta name=format-detection content="email=no"><meta name=format-detection content="telephone=no"><meta charset=utf-8><meta http-equiv=cache-control content="no-siteapp"><meta http-equiv=cache-control content="no-transform"><meta name=copyright content="Copyright © 2018 qiucode.cn. All Rights Reserved."><meta name=mediaid content="秋码分享"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,shrink-to-fit=no,viewport-fit=cover"><meta name=keywords content="Hugo,Hugo主题,Java爱好者,个人博客,建站,人工智能,AI,ChatGPT,微服务,开源"><meta name=description content="一个曾游离于山巅之上的Java爱好者,矗立在山峰处,已然将目光转向了人工智能（AI）,Web3,NFT,区块链等前沿技术领域,且分享知识于由Hugo驱动的自己开源Hugo-theme-kiwi主题的个人博客上面。"><meta http-equiv=x-dns-prefetch-control content="on"><meta name=site content="https://qiucode.cn"><meta property="og:image" content="https://qiucode.cn/imgs/icons/favicon.ico"><meta property="og:description" content="一个曾游离于山巅之上的Java爱好者,矗立在山峰处,已然将目光转向了人工智能（AI）,Web3,NFT,区块链等前沿技术领域,且分享知识于由Hugo驱动的自己开源Hugo-theme-kiwi主题的个人博客上面。"><meta property="og:type" content="website"><meta property="og:url" content="https://qiucode.cn"><meta property="og:locale" content="zh_CN"><meta property="og:site_name" content><meta property="og:title" content="Machine Learning"><meta property="twitter:partner" content="ogwp"><meta http-equiv=x-dns-prefetch-control content="on"><meta name=google-adsense-account content="ca-pub-7185292421366258"><link rel=alternate href=https://qiucode.cn/feed.xml title=秋码分享 type=application/rss+xml><link rel="shortcut icon" href=https://qiucode.cn/imgs/icons/favicon.ico><link rel=apple-touch-icon href=https://qiucode.cn/imgs/icons/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=https://qiucode.cn/imgs/icons/apple-touch-icon.png><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7185292421366258" crossorigin=anonymous></script><style>html{font-family:pingfang sc,noto serif sc,harmonyos_sans_sc_medium,fira mono,microsoft yahei,Arial,sans-serif}html .Qc_header_above .Qc_container{max-width:1720px}html .Qc_header_below .Qc_container{max-width:1720px}html .Qc_header_searchout .Qc_container{max-width:1720px}html .Qc_main{max-width:980px}html .Qc_aside{width:300px}body::before{background:#f0f0f0;background:;background-position:50% 0;background-repeat:no-repeat;background-size:cover}</style><link rel=stylesheet href=https://qiucode.cn/css/global.min.css><link rel=stylesheet href=https://qiucode.cn/css/style.css><link rel=stylesheet href=https://qiucode.cn/css/theme.min.css><link rel=stylesheet href=https://qiucode.cn/css/third-party/waline.css><link rel=stylesheet href=https://qiucode.cn/css/word-cloud.css><script src=https://qiucode.cn/js/third-party/wordcloud/wordcloud2.js></script><style>.wpcom-icon svg{fill:currentcolor}.wpcom-icon svg{width:1em;height:1em;vertical-align:-.15em;fill:currentColor;overflow:hidden}.joe_action{position:fixed;bottom:90px;right:30px;z-index:333}.joe_action_item.scroll.active{visibility:visible;-webkit-transform:scale(1);transform:scale(1)}.joe_action_item.scroll{visibility:hidden;-webkit-transform:scale(0);transform:scale(0);transition:visibility .35s,-webkit-transform .35s;transition:visibility .35s,transform .35s;transition:visibility .35s,transform .35s,-webkit-transform .35s}.joe_action_item{box-shadow:rgb(0 0 0/.1)0 0 10px,rgb(0 0 0/.2)0 5px 20px;background:var(--darkreader-bg--background)}.joe_action_item{position:relative;display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:var(--background);border-radius:50%;cursor:pointer;margin-top:15px;box-shadow:0 0 10px rgb(0 0 0/.1),0 5px 20px rgb(0 0 0/.2)}.joe_action_item svg{position:absolute;width:25px;height:25px;fill:var(--theme)}.joe_action_item.mode svg{-webkit-transform:scale(0);transform:scale(0);opacity:0}.joe_action_item.mode svg.active{-webkit-transform:scale(1);transform:scale(1);opacity:1}.vp-scroll-progress{visibility:hidden;position:absolute;right:-12px;bottom:27px;width:52px;height:52px}.vp-scroll-progress svg{width:80px;height:80px}.vp-scroll-progress.active{visibility:visible}.vp-scroll-progress circle{opacity:.9;transform:rotate(-90deg);transform-origin:50% 50%}</style></head><body><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden"><symbol id="wi-user" viewBox="0 0 1024 1024"><path d="M170.688 938.688a341.312 341.312.0 11682.624.0H768a256 256 0 10-512 0H170.688zm341.312-384c-141.44.0-256-114.56-256-256s114.56-256 256-256 256 114.56 256 256-114.56 256-256 256zm0-85.376A170.624 170.624.0 10512 128a170.624 170.624.0 100 341.312z"/></symbol><symbol id="wi-menu" viewBox="0 0 1024 1024"><path d="M912 192H328c-4.4.0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4.0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4.0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4.0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4.0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4.0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"/></symbol><symbol id="wi-link" viewBox="0 0 1024 1024"><path d="M574 665.4a8.03 8.03.0 00-11.3.0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2.0-204l116.2-116.2c3.1-3.1 3.1-8.2.0-11.3l-39.8-39.8a8.03 8.03.0 00-11.3.0L191.4 526.5c-84.6 84.6-84.6 221.5.0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2.0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03.0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3.0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2.0 204L665.3 562.6a8.03 8.03.0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3.0l116.2-116.2c84.5-84.6 84.5-221.5.0-306.1zM610.1 372.3a8.03 8.03.0 00-11.3.0L372.3 598.7a8.03 8.03.0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3.0l226.4-226.4c3.1-3.1 3.1-8.2.0-11.3l-39.5-39.6z"/></symbol><symbol id="wi-home" viewBox="0 0 1024 1024"><path d="M810.688 934.336H213.312a42.688 42.688.0 01-42.624-42.688v-384h-128L483.2 107.136a42.688 42.688.0 0157.472.0l440.576 400.512h-128v384a42.688 42.688.0 01-42.624 42.688zm-256-85.312H768V429.056L512 196.352 256 429.056v419.968h213.312v-256h85.376v256z"/></symbol><symbol id="wi-search" viewBox="0 0 1024 1024"><path d="M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1S492.1 112 412 112s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2.0 0011.6.0l43.6-43.5a8.2 8.2.0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"/></symbol><symbol id="wi-folder-open" viewBox="0 0 1024 1024"><path d="M128 896a42.666667 42.666667.0 01-42.666667-42.666667V170.666667A42.666667 42.666667.0 01128 128h316.330667L529.664 213.333333H853.333333A42.666667 42.666667.0 01896 256v128h-85.333333V298.666667H494.336l-85.333333-85.333334h-238.336V725.248l64-255.914667H960l-98.56 394.368A42.666667 42.666667.0 01820.053333 896H128zm722.688-341.333333H301.312l-64 256h549.376l64-256z"/></symbol><symbol id="wi-eye" viewBox="0 0 1024 1024"><path d="M512 128a469.504 469.504.0 01461.632 384A469.504 469.504.0 0150.368 512 469.504 469.504.0 01512 128zm0 682.688c179.2.0 334.592-123.968 374.464-298.688A384.192 384.192.0 00137.6 512 384.192 384.192.0 00512 810.688zM512 704a192 192 0 110-384 192 192 0 010 384zm0-85.312a106.688 106.688.0 100-213.376 106.688 106.688.0 000 213.376z"/></symbol><symbol id="wi-comments" viewBox="0 0 1024 1024"><defs><style/></defs><path d="M573 421c-23.1.0-41 17.9-41 40s17.9 40 41 40c21.1.0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1.0-41 17.9-41 40s17.9 40 41 40c21.1.0 39-17.9 39-40s-17.9-40-39-40z"/><path d="M894 345A343.92 343.92.0 00705 215v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95.0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7.0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31.0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"/><path d="M433 421c-23.1.0-41 17.9-41 40s17.9 40 41 40c21.1.0 39-17.9 39-40s-17.9-40-39-40z"/></symbol><symbol id="wi-time" viewBox="0 0 1024 1024"><path d="M512 938.666667C276.352 938.666667 85.333333 747.648 85.333333 512S276.352 85.333333 512 85.333333 938.666667 276.352 938.666667 512 747.648 938.666667 512 938.666667zm0-85.333334a341.333333 341.333333.0 100-682.666666 341.333333 341.333333.0 000 682.666666zM554.666667 512h170.666666v85.333333h-256V298.666667h85.333334V512z"/></symbol><symbol id="wi-date" viewBox="0 0 1024 1024"><path d="M725.312 128H896c23.552.0 42.688 19.072 42.688 42.688v682.624A42.688 42.688.0 01896 896H128a42.688 42.688.0 01-42.688-42.688V170.688C85.312 147.072 104.448 128 128 128h170.688V42.688H384V128h256V42.688h85.312V128zm128 341.312H170.688v341.376h682.624V469.312zM640 213.312H384v85.376H298.688V213.312h-128V384h682.624V213.312h-128v85.376H640V213.312zM256 554.688h85.312V640H256V554.688zm213.312.0h85.376V640H469.312V554.688zm213.376.0H768V640h-85.312V554.688z"/></symbol><symbol id="wi-back" viewBox="0 0 1024 1024"><path d="M425.6 363.264V192.256L126.4 491.52l299.328 299.392v-175.36c213.76.0 363.456 68.352 470.272 218.048-42.688-213.76-171.008-427.52-470.272-470.4"/></symbol><symbol id="wi-article" viewBox="0 0 1024 1024"><path d="M853.333333 938.666667H170.666667A42.666667 42.666667.0 01128 896V128a42.666667 42.666667.0 0142.666667-42.666667h682.666666A42.666667 42.666667.0 01896 128v768a42.666667 42.666667.0 01-42.666667 42.666667zM298.666667 256v170.666667h170.666666V256H298.666667zm0 256v85.333333h426.666666V512H298.666667zm0 170.666667V768h426.666666v-85.333333H298.666667zm256-384V384h170.666666V298.666667H554.666667z"/></symbol><symbol id="wi-loader" viewBox="0 0 1024 1024"><path d="M512 85.333333A42.666667 42.666667.0 01554.666667 128v128a42.666667 42.666667.0 01-85.333334.0V128A42.666667 42.666667.0 01512 85.333333zm0 640A42.666667 42.666667.0 01554.666667 768v128a42.666667 42.666667.0 01-85.333334.0V768A42.666667 42.666667.0 01512 725.333333zM938.666667 512A42.666667 42.666667.0 01896 554.666667H768a42.666667 42.666667.0 010-85.333334h128A42.666667 42.666667.0 01938.666667 512zm-640 0A42.666667 42.666667.0 01256 554.666667H128a42.666667 42.666667.0 010-85.333334h128A42.666667 42.666667.0 01298.666667 512zM813.696 813.696a42.666667 42.666667.0 01-60.330667.0l-90.496-90.496A42.666667 42.666667.0 01723.2 662.869333l90.496 90.453334a42.666667 42.666667.0 010 60.373333zM361.130667 361.130667a42.666667 42.666667.0 01-60.330667.0l-90.453333-90.453334A42.666667 42.666667.0 01270.677333 210.304l90.453334 90.496a42.666667 42.666667.0 010 60.330667zM210.346667 813.696a42.666667 42.666667.0 010-60.330667l90.496-90.496A42.666667 42.666667.0 11361.173333 723.2L270.72 813.696a42.666667 42.666667.0 01-60.373333.0zM662.869333 361.130667a42.666667 42.666667.0 010-60.330667l90.453334-90.496A42.666667 42.666667.0 01813.696 270.634667l-90.496 90.496a42.666667 42.666667.0 01-60.330667.0z"/></symbol><symbol id="wi-close" viewBox="0 0 1024 1024"><path d="M780.352 780.8c16.64-16.64 11.648-38.08-4.992-54.72L562.816 513.152l213.632-214.144c16.64-16.64 20.992-39.168 4.352-55.808s-39.168-12.288-55.808 4.352L511.296 461.632 298.304 248.64c-16.64-16.64-38.464-22.08-55.104-5.44s-12.224 39.104 4.416 55.744l212.992 212.992-213.12 213.056c-16.64 16.64-20.928 39.168-4.288 55.808s39.168 12.288 55.808-4.352l213.12-213.056 212.928 212.992c16.192 16.192 39.104 20.608 55.296 4.416z"/></symbol><symbol id="wi-weibo" viewBox="0 0 1024 1024"><path d="M747.712 485.44c53.888 16.768 113.92 57.024 113.92 128.192.0 117.888-169.856 266.24-425.152 266.24-194.752.0-393.792-94.464-393.792-249.728.0-81.152 51.328-175.04 139.776-263.552C300.8 248.384 438.656 194.496 490.496 246.464c22.912 22.912 25.088 62.464 10.432 109.696-7.616 23.808 22.4 10.688 22.4 10.688 95.552-40 179.008-42.432 209.408 1.152 16.256 23.168 14.656 55.68-.32 93.44-6.976 17.344 2.048 20.096 15.36 24zM437.12 824.192C592.448 808.768 710.208 713.6 700.224 611.584c-10.112-102.016-144.32-172.288-299.648-156.864C245.248 470.08 127.36 565.184 137.472 667.2c10.112 102.144 144.256 172.288 299.648 156.992zM262.848 616c32.128-65.152 115.712-101.952 189.696-82.752 76.48 19.776 115.456 91.904 84.288 162.112-31.744 71.808-122.944 110.016-200.32 85.056-74.752-24.128-106.368-97.92-73.664-164.416zm61.696 110.4c24.192 10.944 56.512.576 71.488-23.488 14.72-24.192 6.976-51.904-17.344-62.208-24.064-10.112-55.104.32-70.016 23.552-15.104 23.36-8.064 51.328 15.872 62.144zm94.08-77.12c9.344 3.904 21.376-.512 26.816-9.856 5.248-9.408 1.92-19.904-7.616-23.424-9.216-3.584-20.736.768-26.112 9.92-5.248 9.152-2.304 19.52 6.912 23.36zm429.312-243.968a30.912 30.912.0 11-58.816-19.2 58.88 58.88.0 00-68.672-76.032 30.912 30.912.0 01-12.928-60.416 120.96 120.96.0 01140.416 155.648zM680.832 124.8a248.768 248.768.0 01288.576 320 35.776 35.776.0 01-45.248 23.04 36.032 36.032.0 01-23.104-45.376A176.768 176.768.0 00695.936 195.2a36.032 36.032.0 01-15.104-70.4z"/></symbol><symbol id="wi-wechat" viewBox="0 0 1024 1024"><path d="M792.512 584.96a38.848 38.848.0 0038.272-38.272 38.208 38.208.0 00-38.272-38.336 38.208 38.208.0 00-38.336 38.336c0 21.312 17.088 38.336 38.336 38.336zm-188.8.0a38.848 38.848.0 0038.272-38.272 38.208 38.208.0 00-38.272-38.336 38.144 38.144.0 00-38.336 38.336c0 21.312 17.024 38.336 38.336 38.336zM883.904 8e2a14.784 14.784.0 00-7.36 15.808c0 2.048.0 4.16 1.088 6.272 4.16 17.792 12.544 46.144 12.544 47.232.0 3.072 1.024 5.184 1.024 7.296a9.408 9.408.0 01-9.408 9.408c-2.112.0-3.2-1.024-5.248-2.048L814.72 848.32A34.112 34.112.0 008e2 844.096c-3.072.0-6.208.0-8.32 1.024a331.52 331.52.0 01-92.16 12.608c-156.16.0-281.92-104.832-281.92-234.88.0-129.984 125.696-234.88 281.856-234.88s281.856 104.896 281.856 234.88c0 70.272-37.696 134.208-97.408 177.28V8e2zM711.36 345.6a388.48 388.48.0 00-11.904-.256c-178.112.0-324.544 122.048-324.544 277.568.0 23.616 3.392 46.464 9.728 68.224h-3.84a425.088 425.088.0 01-110.208-15.68c-3.2-1.088-6.336-1.088-9.472-1.088a35.52 35.52.0 00-17.856 5.248l-74.56 42.88c-2.112 1.088-4.224 2.176-6.336 2.176a11.648 11.648.0 01-11.52-11.52c0-3.2 1.024-5.248 2.112-8.448 1.024-1.024 10.496-35.584 15.744-56.448.0-2.176 1.024-5.248 1.024-7.36a23.68 23.68.0 00-9.408-18.88C87.808 570.688 42.688 494.336 42.688 409.6c0-155.968 152.32-281.6 339.2-281.6 160.64.0 295.68 92.544 329.472 217.536zm-219.904 17.792a44.096 44.096.0 0043.776-43.776 43.456 43.456.0 00-43.776-43.776 43.456 43.456.0 00-43.776 43.776c0 24.448 19.328 43.776 43.776 43.776zm-224.384.0a44.16 44.16.0 0043.776-43.776 43.52 43.52.0 00-43.776-43.776 43.52 43.52.0 00-43.776 43.776 43.52 43.52.0 0043.776 43.776z"/></symbol><symbol id="wi-qq" viewBox="0 0 1024 1024"><path d="M849.6 619.904a1364.352 1364.352.0 00-28.8-80.448L782.08 443.52c0-1.088.512-19.968.512-29.696.0-163.84-78.208-328.576-270.528-328.576-192.32.0-270.528 164.736-270.528 328.576.0 9.728.512 28.608.512 29.696l-38.848 96c-10.624 27.392-21.12 55.936-28.8 80.448-36.736 116.8-24.832 165.12-15.744 166.208 19.392 2.304 75.52-87.936 75.52-87.936.0 52.224 27.2 120.448 86.016 169.664-21.952 6.72-48.896 17.024-66.304 29.632-15.552 11.392-13.568 23.04-10.752 27.776 12.288 20.48 211.392 13.056 268.928 6.656 57.472 6.4 256.576 13.824 268.864-6.72 2.816-4.672 4.8-16.32-10.816-27.712-17.344-12.608-44.288-22.912-66.304-29.696 58.816-49.152 86.016-117.376 86.016-169.6.0.0 56.128 90.24 75.52 87.872 9.088-1.088 20.928-49.344-15.744-166.144"/></symbol><symbol id="wi-qzone" viewBox="0 0 1024 1024"><path d="M312.26 677.98666667c22.08-24.6 305.52-182.4 305.52-182.4l-370.14-49.2 495-5.82s17.64 14.46.0 34.8c-17.58 20.22-280.5 198.3-280.5 198.3l298.92 23.64-9.06-52.32 240-230.58-331.68-47.46-148.32-296.28-148.32 296.28-331.68 47.46 240 230.58-56.64 325.68 296.64-153.72 296.64 153.72-46.5-267.36-449.88 19.62s-22.02-20.28.0-44.94zm439.74-10.8 1.26 6.96 58.74-2.46-60-4.5z"/></symbol><symbol id="wi-share" viewBox="0 0 1024 1024"><path d="M768 686.08c-32.426667.0-61.44 12.8-83.626667 32.853333L380.16 541.866667C382.293333 532.053334 384 522.24 384 512s-1.706667-20.053333-3.84-29.866667l300.8-175.36c23.04 21.333333 53.333333 34.56 87.04 34.56 70.826667.0 128-57.173333 128-128s-57.173333-128-128-128-128 57.173333-128 128c0 10.24 1.706667 20.053333 3.84 29.866667L343.04 418.56C320 397.226667 289.706667 384 256 384c-70.826667.0-128 57.173333-128 128s57.173333 128 128 128c33.706667.0 64-13.226667 87.04-34.56l303.786667 177.493333c-2.133333 8.96-3.413333 18.346667-3.413334 27.733334.0 68.693333 55.893333 124.586667 124.586667 124.586666S892.586667 879.36 892.586667 810.666667 836.693334 686.08 768 686.08z"/></symbol><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379.0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628.0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628.0l-22.627 22.627c-6.248 6.248-6.248 16.379.0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196.0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627.0 12 5.373 12 12v1e2h12c6.627.0 12 5.373 12 12v24z"/></symbol></svg><header class=kiwi_header><style>.kiwi_container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.kiwi_header__above-logo svg,.kiwi_header__above-nav .kiwi_dropdown__menu a::after{display:none}#Joe .kiwi_leaving-list .emoji-item,#Joe .newreply .emoji-item{display:inline-block;margin:0 2px;padding:0;width:24px;height:24px;overflow:hidden}@media(max-width:860px){#Joe .kiwi_leaving-list .emoji-item,#Joe .newreply .emoji-item{-webkit-transform:scale(.8);transform:scale(.8)}}#Joe .kiwi_leaving-list .emoji-item img,#Joe .newreply .emoji-item img{display:block;width:24px;height:24px;border:0}#Joe .kiwi_leaving-list .emoji-animate,#Joe .newreply .emoji-animate{position:relative}#Joe .newreply .emoji-animate .img{cursor:default}#Joe .kiwi_leaving-list .emoji-animate .img{cursor:default;width:24px;height:24px}#Joe .kiwi_leaving-list .emoji-animate .img:hover,#Joe .kiwi_leaving-list .emoji-img:hover,#Joe .newreply .emoji-animate .img:hover,#Joe .newreply .emoji-img:hover{-webkit-transform:translateY(0);transform:translateY(0)}#Joe .newreply .emoji-img{position:relative;cursor:default}#Joe .kiwi_leaving-list .emoji-img{position:relative;cursor:default;width:20px;height:20px}#Joe .newreply .emoji-animate{top:5px}#Joe .newreply .emoji-animate .img{width:24px;height:24px}#Joe .newreply .emoji-img{top:-3px;width:20px;height:20px}.kiwi_container{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;width:100%;margin:0 auto 30px;padding:0 15px}.kiwi_container.revert{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.kiwi_container.revert .kiwi_aside{margin-left:0;margin-right:15px}.kiwi_container img{max-width:100%}.kiwi_container pre code{overflow-x:auto}.kiwi_container code:not([class]){display:inline-block;font-size:13px;color:var(--code);margin:2px 5px;padding:0 8px;white-space:normal;text-indent:0;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;vertical-align:baseline;word-break:break-word;background:var(--code-background);border-radius:var(--radius-inner)}.kiwi_container .code-toolbar{position:relative;margin:20px 0;overflow:hidden;-webkit-box-shadow:1px 1px 5px 0 var(--shadow-code);box-shadow:1px 1px 5px 0 var(--shadow-code);border-radius:8px}.kiwi_container .code-toolbar .toolbar{pointer-events:none;display:none;opacity:1;left:0;right:0;top:0;z-index:unset;height:30px;line-height:30px;text-align:center}.kiwi_container .code-toolbar .toolbar .toolbar-item{opacity:1;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.kiwi_container .code-toolbar .toolbar .toolbar-item span{font-weight:700;font-size:14px;color:#999;background:0 0;border:0;-webkit-box-shadow:none;box-shadow:none}.kiwi_container .code-toolbar .toolbar .toolbar-item span:hover{color:#999}.kiwi_container .code-toolbar .toolbar .toolbar-item:last-child{display:none}.kiwi_container .code-toolbar .toolbar .autofold-tip{padding-left:5px;font-size:12px}.kiwi_container .code-toolbar pre[class*=language-]{position:relative;margin:0;padding:20px 0 0;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;font-size:16px;overflow:hidden;white-space:pre;text-shadow:none;border-radius:8px}.kiwi_container .code-toolbar pre[class*=language-] code[class*=language-]{display:block;margin-bottom:0;overflow-x:auto;-webkit-overflow-scrolling:touch;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 12px 12px 18px;border-radius:0 0 8px 8px;text-shadow:none}.kiwi_container .code-toolbar pre[class*=language-] code[class*=language-] .token.operator,.kiwi_container .code-toolbar pre[class*=language-] code[class*=language-] .token.string{background:0 0}.kiwi_container .code-toolbar pre[class*=language-] .line-numbers-rows{left:0;top:0;bottom:0;padding-top:12px;border:0}.kiwi_container .code-toolbar pre[class*=language-] .code-expander,.kiwi_container .code-toolbar pre[class*=language-] .copy-button{cursor:pointer;position:absolute;right:10px;top:5px;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;color:#999;-webkit-transition:all .25s;transition:all .25s}.kiwi_container .code-toolbar pre[class*=language-] .code-expander:hover,.kiwi_container .code-toolbar pre[class*=language-] .copy-button:hover{-webkit-filter:brightness(1.2);filter:brightness(1.2)}.kiwi_container .code-toolbar pre[class*=language-] .copy-button{top:3px;z-index:5;font-weight:700;-webkit-transition:opacity .25s;transition:opacity .25s}.kiwi_container .code-toolbar pre[class*=language-].c_title+.toolbar{display:block}.kiwi_container .code-toolbar pre[class*=language-].c_title code{padding:12px 12px 12px 18px}.kiwi_container .code-toolbar pre[class*=language-].c_hr{padding:30px 0 0}.kiwi_container .code-toolbar pre[class*=language-].c_hr:after{position:absolute;top:30px;z-index:1;content:"";width:100%;height:1px;background:#d8d8d8;mix-blend-mode:overlay}.kiwi_container .code-toolbar pre[class*=language-].c_hr code{padding:12px 12px 14px 18px}.kiwi_container .code-toolbar pre[class*=language-].c_macdot:before{content:"";position:absolute;top:9px;left:12px;z-index:1;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b}.kiwi_container .code-toolbar pre[class*=language-].c_newline code{white-space:pre-wrap;word-break:break-all}.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools .code-expander,.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools .copy-button{pointer-events:none;opacity:0}.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools:hover .code-expander,.kiwi_container .code-toolbar pre[class*=language-].c_hover_tools:hover .copy-button{pointer-events:auto;opacity:1}.kiwi_container .code-toolbar pre[class*=language-].c_copy,.kiwi_container .code-toolbar pre[class*=language-].c_copy code{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.kiwi_container .code-toolbar pre[class*=language-].c_copy .code-expander{right:40px}.kiwi_container .code-toolbar pre[class*=language-].line-numbers code{padding:12px 12px 16px 54px}.kiwi_container .code-toolbar pre[class*=language-].close{height:30px}.kiwi_container .code-toolbar pre[class*=language-].close .code-expander{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.kiwi_container .code-toolbar pre[class*=language-].close:after{visibility:hidden}.kiwi_main{min-width:0;-webkit-box-flex:1;-ms-flex:1;flex:1;padding-bottom:15px}.kiwi_dropdown{position:relative}.kiwi_dropdown__link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.kiwi_dropdown__link-icon{-webkit-transition:-webkit-transform .35s;transition:transform .35s;transition:transform .35s,-webkit-transform .35s;margin-left:-12px}.kiwi_dropdown__menu{position:absolute;left:50%;visibility:hidden;z-index:5;border-top:3px solid var(--theme);-webkit-transform-origin:top;transform-origin:top;background:var(--sib-background);-webkit-box-shadow:0 0 10px rgba(0,0,0,.15);box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:0 0 var(--radius-inner)var(--radius-inner);padding:10px 0;opacity:0;-webkit-transform:translateX(-50%)perspective(600px)rotateX(-45deg);transform:translateX(-50%)perspective(600px)rotateX(-45deg);-webkit-transition:opacity .35s,visibility .35s,-webkit-transform .35s;transition:opacity .35s,visibility .35s,transform .35s;transition:opacity .35s,visibility .35s,transform .35s,-webkit-transform .35s}.kiwi_dropdown__menu::before{content:"";position:absolute;top:-10px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid var(--theme)}.kiwi_dropdown.active .kiwi_dropdown__link-icon{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.kiwi_dropdown.active .kiwi_dropdown__menu{visibility:visible;opacity:1;-webkit-transform:translateX(-50%)perspective(600px)rotateX(0);transform:translateX(-50%)perspective(600px)rotateX(0)}.kiwi_header{position:relative;z-index:100;height:60px}.kiwi_header .kiwi_container{margin:0 auto}.kiwi_header .full{max-width:100%!important}.kiwi_header__above{position:fixed;top:0;z-index:6;width:100%;background:var(--background);-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.2);box-shadow:0 2px 10px rgba(0,0,0,.2);-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);will-change:opacity,transform;-webkit-transition:opacity,-webkit-transform .35s;transition:opacity,transform .35s;transition:opacity,transform .35s,-webkit-transform .35s}.kiwi_header__above .kiwi_container{-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-height:44px;max-width:auto!important}.kiwi_header__above-logo{position:relative;height:60px;margin-right:10px;padding-right:18px}.kiwi_header__above-logo img{min-width:40px;max-width:150px;height:40px;-o-object-fit:cover;object-fit:cover}.kiwi_header__above-logo::after{content:"";position:absolute;top:50%;right:0;width:1px;height:20px;background:var(--classC);-webkit-transform:translateY(-50%);transform:translateY(-50%)}.kiwi_header__above-logo,.kiwi_header__above-nav,.kiwi_header__above-nav .item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.kiwi_header__above-nav .item{cursor:pointer;position:relative;height:60px;line-height:60px;font-size:15px;padding:0 8px;margin-right:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;color:var(--main);-webkit-transition:color .35s;transition:color .35s}.kiwi_header__above-nav .item>i{display:inline-block;margin-right:4px;font-size:18px;-webkit-transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s}.kiwi_header__above-nav .item:last-child{margin-right:0}.kiwi_header__above-nav .item::after{opacity:0;position:absolute;bottom:0;left:6px;right:6px;content:"";height:3px;-webkit-transform:scaleX(.25);transform:scaleX(.25);background:var(--theme);border-radius:6px 6px 0 0;-webkit-transition:opacity .5s,-webkit-transform .5s;transition:opacity .5s,transform .5s;transition:opacity .5s,transform .5s,-webkit-transform .5s}.kiwi_header__above-nav .item.current,.kiwi_header__above-nav .item:hover{color:var(--theme)}.kiwi_header__above-nav .item.current::after,.kiwi_header__above-nav .item.current:hover::after{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}.kiwi_header__above-nav .item:hover::after{opacity:.3;-webkit-transform:scaleX(.7);transform:scaleX(.7)}.kiwi_header__above-nav .item:hover+.joe-icon-arrow-down,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link a,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link i{color:var(--theme)!important}.kiwi_header__above-nav.active-shadow .item.current{text-shadow:0 4px 20px var(--theme)}.kiwi_header__above-nav.active-animate .item:hover .m-icon{-webkit-animation:dung .3s .12s ease;animation:dung .3s .12s ease}.kiwi_header__above-nav .kiwi_dropdown{margin-right:15px}.kiwi_header__above-nav .kiwi_dropdown__link a{height:60px;line-height:60px;font-size:15px;padding-left:8px;padding-right:3px;-webkit-transition:color .35s;transition:color .35s;white-space:nowrap;color:var(--main)}.kiwi_header__above-nav .kiwi_dropdown__menu{min-width:90px;max-width:200px;text-align:center}.kiwi_header__above-nav .kiwi_dropdown__menu a{display:block;height:34px;margin-right:0;line-height:34px;color:var(--classF);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 15px;-webkit-transition:color .35s,background .35s;transition:color .35s,background .35s}.kiwi_header__above-nav .kiwi_dropdown__menu a.current,.kiwi_header__above-nav .kiwi_dropdown__menu a:hover{color:var(--theme);background:var(--sib)}.kiwi_header__above-nav .kiwi_dropdown .item:hover:after,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link a::after,.kiwi_header__above-nav .kiwi_dropdown.active .kiwi_dropdown__link i::after{display:none}.kiwi_header__above-nav .kiwi_nav_sub-li{position:relative;height:34px}.kiwi_header__above-nav .kiwi_nav_sub-li .m-icon{vertical-align:bottom}.kiwi_header__above-nav .kiwi_nav_sub-li:hover .kiwi_nav_sub{visibility:visible;opacity:1;-webkit-transform:translateX(0)perspective(600px)rotateY(0);transform:translateX(0)perspective(600px)rotateY(0)}.kiwi_header__above-nav .kiwi_nav_sub{visibility:hidden;z-index:10;-webkit-transform-origin:top;transform-origin:top;opacity:0;position:relative;left:100%;top:-34px;padding-left:7px;-webkit-box-shadow:7px 3px 8px 0 rgba(0,0,0,.15);box-shadow:7px 3px 8px rgba(0,0,0,.15);border-radius:0 var(--radius-inner)var(--radius-inner)0;-webkit-transform:translateX(-20%)perspective(600px)rotateY(-45deg);transform:translateX(-20%)perspective(600px)rotateY(-45deg);-webkit-transition:opacity .35s,visibility .35s,-webkit-transform .35s;transition:opacity .35s,visibility .35s,transform .35s;transition:opacity .35s,visibility .35s,transform .35s,-webkit-transform .35s}.kiwi_header__above-nav .kiwi_nav_sub::before{position:absolute;top:10px;left:0;content:"";-webkit-transform:translateX(-50%);transform:translateX(-50%);width:0;height:0;border:7px solid transparent;border-right-color:var(--theme)}.kiwi_header__above-nav .kiwi_nav_sub::after{position:absolute;top:0;left:7px;content:"";width:2px;height:100%;background:var(--theme)}.kiwi_header__above-nav .kiwi_nav_sub li{background:var(--sib-background)}.kiwi_header__above-search,.kiwi_header__above-search-mobile{position:relative;margin-left:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.kiwi_header__above-search .input,.kiwi_header__above-search-mobile .input{background:var(--classC);width:170px;height:34px;border:1px solid transparent;padding:0 14px 0 16px;color:var(--routine);-webkit-transition:width .35s,border-color .35s,padding-right .35s;transition:width .35s,border-color .35s,padding-right .35s;border-radius:17px 0 0 17px}.kiwi_header__above-search .input:focus,.kiwi_header__above-search-mobile .input:focus{background:var(--background);border-color:var(--theme);padding-right:28px;width:170px}.kiwi_header__above-search .input:focus~.icon,.kiwi_header__above-search-mobile .input:focus~.icon{-webkit-transform:translate3d(0,-50%,0)rotateY(180deg);transform:translate3d(0,-50%,0)rotateY(180deg)}.kiwi_header__above-search .submit,.kiwi_header__above-search-mobile .submit{position:relative;z-index:1;width:50px;height:34px;color:#fff;border:0;background:var(--theme);border-radius:0 17px 17px 0}.kiwi_header__above-search .submit i,.kiwi_header__above-search-mobile .submit i{-webkit-transform-origin:right bottom;transform-origin:right bottom;font-size:20px}.kiwi_header__above-search .submit:hover i,.kiwi_header__above-search-mobile .submit:hover i{-webkit-animation:swag .3s ease infinite alternate;animation:swag .3s ease infinite alternate}.kiwi_header__above-search .icon,.kiwi_header__above-search-mobile .icon{position:absolute;top:50%;right:44px;width:28px;height:38px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAmCAYAAADX7PtfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAHKElEQVRYw93Xe3DNdxrH8ecXiSK7i1qWFWW3rekiE2x3VEemtkkVVbWy4jY6atma2YpS6rJoozvbpRF1qW1EEYIk5xZE5EKE3CQi0SB30VwEIeeWnDi3nPf+kUNTE1R3mNn945n5nZkz8zrP53y/39/3EUCeZsn/HCgi80Rky1MDn/H2vjB6SpBVRMb9V6CI+InIBhE58bOez5b9xm9E0wu//0NTr/4+9SKyX0TGicjiP320kpBd+xCRv/0kUFEUf49OnfJGBwWzWn3UcfCGSa8xO1zxFoi3gLbJyZb8S/QeOIhRb0/hiA1GvjkREfF9bFBEQv0C3ySyrIaEO5DjaCXFYkdttKEyWFEbrKiNNjRmBztLrrIqVsfAYb507tJVryjKi48FisiK8Qs/IL4FVEYbOTY7l3FSjJNCp4PDpnZoOzi+BSKKq+j3wostiqK8/KPBv27+6pja9H03uXYHl3FwyeWgGCcFTscPwXalMdnZU1VPn4GDTCLS90eB2ibHHpXRhtpgRWWwkmqxU4yTEpwcvaUno7kZ7f1dtitds4tVcYcRkZMiskhRlCEPBdUG2/a7oNpoQ2Oyc8zUwrsp+QREp7CxpA6N0YbaaENtvBtrW2lMdsIy8xn00u/4aPly9h04QEBgICKy+oGgymiNUBltaN2xflxwlUmqdArKvyX0RBZf1ejbge5y/zi10cbg4SO4Ul3N8dRUqmprcQETJ01CUZQxHXdotH+jMtpYdLact9RniMzOxX6rDAzlrEzOIKLO+EPMXRqTnbCs88yePQuA18aOpWuPXuyIiKCouBgROfQA0Bq1tqiGsPRsMFbiaigBfQXoy1mZnMnOa6YOMBsHb7ewKbuAWTNnAhAQGEjPPn3JyMmh2W5HUZScDkGd0b5/RuoFqmtLiNj8GSLCxcwEMFTw95RM/l1ruBepxtTW2YKMYiYdPouuycHg4SOpqa8nTqPhclkZDuBcYSEiEtMxaLZHByXmU1qUiYeHByLCsZhIMFayPfMs/yy9TrzZQZzByqeX6pigzSLqbB5z4k+jNTvYcCqbvj4++i/Cwi7kFZxvidq/3+UzYAAi8l6HYLzZfiAoIZfoiHBEBBGhNDcZ9BXkln5LoCaLoMR8punOsCM7j8b6EjBWsDjxDHtuNKE1O9h95RrT14QyJngm01at48u8IkTktPtg6da9e/dffb8PTXbVVG0mqRva4pw8PgBMV6CxHBrLuVhZRMO1Ypw3LrPt8zXYrl8CfTmrUzL5ut2C0jY50TW3om1yEm+B/oNf0rvBYfPff//59pEefUd9BtKPU5oQS+vtMmgsx3W7DJf7GfNV5kyfgoiQpNoNxko+Tsog8u6Cuu8wiLfAb/2Gt7hBRUR6tAdTpmozQV/etjrbYXfBxspzKEpb3MU5x8FYwUxdOirDfXvTvT+1TU569vt17YP+w+RJ0ae4WdUWlcsdJfqKtmd9BWcSDiIijHvdH8xVVFdfYmpiPjqznQP1BmIamu6dRBqTnfCcQkQkukPQPyZdNToqzfZWaLKzuvwiGCpoLcrAnqS917G1/iKfL5iLMUkH3xWiK8hnWX4Vhy0uJi9ayqpYHRqzo+1stbgIePc9u4i83iE4O7128cvRp1mRZ2Hy+qRWQ25aW2d1RW0x3+04/zScTITcNJYmZxFxzcj+2lsM8vUjrrHlXrRR1Q107tLlYodnqaIo2iHDhlp8g+bzaSkcqbO0xiXn80boCdbtOkXuuUJuVRdjqbuI42YxNXmpLFkwh6FvTOCoDdeYP09nVazOpWtuRW20oWtu5Z0PlyMiwR2CIrJbG7WNyPD1DBrxCoEh61snhEYwcc1WXvnLelffgOX6gcE7VN1+3sM2cuwfEU9PRCRtftgWQnbupVf/AQSvXMta3TE0ZgeHbprx7tGz6oGvJxHx8vDyOr35sxWYrp4n8VAEsZGbiNsVTvy+7TzXr0+j+3sHRkx4G1GUnc90885bGhWDh4dHlqIo10Xk9oqDanQWF/M3bUVEPnjo+/CTEkJeXbgOX9+h/GPlIrR7t3I8difHYiLp3evZanf03iIyQkR6iKcXnl6dTymK0lVRFD8RmTpj7XqO2mDIq/6ISM+HgicbnPM+r4TVhS1M26IhYNlGxixcg4hiFpHnOrjd/fL+z8P8XyPmtoVOXl6Zj7xinLrpnLux3EXaDQff1ED4dxD8ZRwisvYxbuHquf8KR0Q2PRJcdcm5JL3BwR2blRablVZg1KhRLkVRej8GOFg6dUJEFj0S3F3NYpPVRrPNSovDweGEBERkx0+YNWYoivL8I8E7Tue8O04nFrsdBzDG3x8R8Xli01NISMiSrdu2kZGTzd7oaERk7xMd12ZFJC0b/8nX9Brsh4ikiUj3Jwpes/Ph3qzLeHb7RbGIeD7xgfRIQsIyH5/+RkVR+j+VCXjkyJHdFEXx/r+b8f8DZyW8Jd6/P38AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDItMjBUMTE6NTI6MjQrMDA6MDA4bfPmAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAyLTIwVDExOjUyOjI0KzAwOjAwSTBLWgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=);background-size:100% 100%;-webkit-transition:-webkit-transform .35s;transition:transform .35s;transition:transform .35s,-webkit-transform .35s;-webkit-transform:translate3d(100%,-50%,0)rotateY(180deg);transform:translate3d(100%,-50%,0)rotateY(180deg)}.kiwi_header__above-search .result,.kiwi_header__above-search-mobile .result{position:absolute;z-index:2;top:60px;left:0;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;visibility:hidden;opacity:0;background:var(--sib-background);-webkit-box-shadow:0 0 10px rgba(0,0,0,.15);box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:var(--radius-inner);-webkit-transition:visibility .35s,opacity .35s,-webkit-transform .35s;transition:visibility .35s,opacity .35s,transform .35s;transition:visibility .35s,opacity .35s,transform .35s,-webkit-transform .35s;-webkit-transform:translate3d(0,15px,0);transform:translate3d(0,15px,0)}.kiwi_header__above-search .result.active,.kiwi_header__above-search-mobile .result.active{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1;visibility:visible}.kiwi_header__above-search .result .item,.kiwi_header__above-search-mobile .result .item{height:40px;line-height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;padding:0 10px;border-bottom:1px solid var(--classD);-webkit-transition:background .35s;transition:background .35s}.kiwi_header__above-search .result .item:last-child,.kiwi_header__above-search-mobile .result .item:last-child{border-bottom:none}.kiwi_header__above-search .result .item:nth-child(1) .sort,.kiwi_header__above-search-mobile .result .item:nth-child(1) .sort{background:#fe2d46}.kiwi_header__above-search .result .item:nth-child(2) .sort,.kiwi_header__above-search-mobile .result .item:nth-child(2) .sort{background:#f60}.kiwi_header__above-search .result .item:nth-child(3) .sort,.kiwi_header__above-search-mobile .result .item:nth-child(3) .sort{background:#faa90e}.kiwi_header__above-search .result .item:hover,.kiwi_header__above-search-mobile .result .item:hover{background:var(--classC)}.kiwi_header__above-search .result .item .sort,.kiwi_header__above-search-mobile .result .item .sort{color:#fff;background:#7f7f8c;width:18px;height:18px;line-height:18px;border-radius:2px;text-align:center;margin-right:8px;font-weight:500}.kiwi_header__above-search .result .item .text,.kiwi_header__above-search-mobile .result .item .text{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--routine);font-size:12px}.kiwi_header__above-search .result .item .views,.kiwi_header__above-search-mobile .result .item .views{color:var(--seat);font-size:12px;margin-left:5px}.kiwi_header__above-search-mobile input{-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}.kiwi_header__above-searchicon{display:none;cursor:pointer;font-size:23px!important;color:var(--routine)}.kiwi_header__above-slideicon{display:none;cursor:pointer;width:20px;height:20px;color:var(--routine)}.kiwi_header__above.active{-webkit-transform:translate3d(0,-60px,0);transform:translate3d(0,-60px,0)}.kiwi_header__above.glass{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:var(--glass-background)}.kiwi_header__above.solid{-webkit-backdrop-filter:unset;backdrop-filter:unset;background:var(--background);-webkit-box-shadow:unset;box-shadow:unset}.kiwi_header__below{position:relative;border-top:1px solid var(--classC);height:45px}.kiwi_header__below-title{max-width:450px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:none;line-height:45px;font-size:17px;font-weight:700;color:var(--main);-webkit-animation:showHeaderTitle .35s;animation:showHeaderTitle .35s}.kiwi_header{position:relative;z-index:100;height:60px}.kiwi_header .kiwi_container{margin:0 auto}.kiwi_header .full{max-width:100%!important}.kiwi_header__searchout{position:absolute;top:60px;left:20%;right:0;z-index:85;background:var(--background);border-top:1px solid var(--classC);-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);-webkit-transition:visibility .35s,-webkit-transform .35s;transition:transform .35s,visibility .35s;transition:transform .35s,visibility .35s,-webkit-transform .35s;visibility:hidden}@media(min-width:576px){.kiwi_container{max-width:540px}}@media(min-width:768px){.kiwi_container{max-width:720px}}@media(min-width:992px){.kiwi_container{max-width:960px}}@media(min-width:1200px){.kiwi_container{max-width:1140px}}@media(max-width:1100px){html .kiwi_header__above-search .input{width:70px}html .kiwi_header__above-search .input:focus{width:170px}}@media(max-width:1000px){html .kiwi_header__above-nav .item .m-icon{display:none}}@media(max-width:768px){html .kiwi_header{top:0;height:55px;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards}html .kiwi_header__above .kiwi_container{height:55px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}html .kiwi_header__above-nav{display:none}html .kiwi_header__above-logo{height:55px;margin-right:0}html .kiwi_header__above-logo img{max-height:45px}html .kiwi_header__above-search{display:none}html .kiwi_header__above-searchicon{display:block;margin-left:0}html .kiwi_header__above-slideicon{display:block}html .kiwi_header__below{display:none}html .kiwi_header__searchout{top:45px}}@media(max-width:500px){html .kiwi_header{height:50px}html .kiwi_header__above .kiwi_container{margin:0 auto;height:50px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}html .kiwi_header__above-nav{display:none}html .kiwi_header__above-logo{height:50px}html .kiwi_header__above-logo img{max-height:45px}html .kiwi_header__above-searchicon{margin-left:0}html .kiwi_header__above-slideicon{display:block}html .kiwi_header__below{display:none}html .kiwi_header__searchout{top:40px}html .kiwi_bread{margin:0 auto;padding:15px 15px 0 5px}}.kiwi_header__slideout.active{visibility:visible;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.kiwi_header__slideout{position:fixed;top:0;bottom:0;left:0;width:80%;z-index:1020;background:var(--classD);-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:hidden;transition:visibility .35s,-webkit-transform .35s;transition:transform .35s,visibility .35s;transition:transform .35s,visibility .35s,-webkit-transform .35s;overflow-y:auto;padding:30px 15px 15px}.kiwi_header__searchout-inner .cloud,.kiwi_header__slideout-wrap{overflow-y:auto;-webkit-overflow-scrolling:touch;-ms-scroll-chaining:none;overscroll-behavior:contain}.kiwi_header__slideout-wrap{position:relative;padding:135px 15px 15px;height:100%}.kiwi_header__slideout-wrap::-webkit-scrollbar,.kiwi_header__toc-wrap::-webkit-scrollbar{display:none}.kiwi_header__slideout-wrap .social-account{padding:0;margin-bottom:10px;border:unset}.kiwi_header__slideout-image{position:absolute;top:0;left:0;width:100%;height:120px;-o-object-fit:cover;object-fit:cover;z-index:-1}.kiwi_header__slideout-author,.kiwi_header__slideout-count,.kiwi_header__slideout-menu{background:var(--background);border-radius:var(--radius-wrap);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}.kiwi_header__slideout-author{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:15px;padding:15px}.kiwi_header__slideout-author .avatar{width:50px;height:50px;margin-right:10px;border-radius:var(--radius-inner)}.kiwi_header__slideout-author .info{overflow:hidden;line-height:25px}.kiwi_header__slideout-author .info .level{height:23px;margin-left:2px}.kiwi_header__slideout-author .info .link,.kiwi_header__slideout-author .info .motto,.kiwi_index__title-notice a{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.kiwi_header__slideout-author .info .link{display:block;font-size:15px;font-weight:500;color:var(--main)}.kiwi_header__slideout-author .info .motto{font-size:12px;color:var(--routine)}.kiwi_header__slideout-count,.kiwi_header__slideout-menu{padding:10px 15px}.kiwi_header__slideout-count{margin-bottom:15px}.kiwi_header__slideout-count .item,.kiwi_header__slideout-menu .link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--routine);padding:5px 0}.kiwi_header__slideout-count .item .joe-font{color:var(--routine);margin-right:5px}.kiwi_header__slideout-count .item strong{font-weight:500;color:var(--theme)}.kiwi_header__slideout-menu{overflow:hidden}.kiwi_header__slideout-menu .link{-webkit-box-pack:justify;-ms-flex-pack:justify;padding:10px 0;color:var(--main);-webkit-transition:color .15s;transition:color .15s}.kiwi_header__slideout-menu .link a{-webkit-transition:color .15s;transition:color .15s;color:var(--routine)}.kiwi_header__slideout-menu .link .joe-font{color:var(--minor);-webkit-transition:fill .15s,-webkit-transform .15s;transition:transform .15s,fill .15s;transition:transform .15s,fill .15s,-webkit-transform .15s}.kiwi_header__slideout-menu .link.in,.kiwi_header__slideout-menu .link.in a{color:var(--theme)}.kiwi_header__slideout-menu .link.in .joe-font{color:var(--theme);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.kiwi_header__slideout-menu .slides{display:none;border-left:1px solid var(--classC);padding-left:15px}.kiwi_header__slideout-menu .slides .link{color:var(--routine)}.kiwi_header__slideout-menu .current a,.kiwi_header__slideout-menu .slides .current{color:var(--theme);font-weight:500;font-size:15px}.kiwi_header__mask{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.65);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);opacity:0;visibility:hidden;transition:visibility .35s,opacity .35s;z-index:880}.kiwi_header__mask.slideout{z-index:1010}.kiwi_header__mask.active{visibility:visible;opacity:1}.kiwi_header__mask{background-image:initial;background-color:rgba(0,0,0,.65)}</style><div class="kiwi_header__above topInDown fixed glass"><div class="kiwi_container kiwi_header_container"><i class="fa fa-bars kiwi_header__above-slideicon"></i>
<a title=秋码记录 class=kiwi_header__above-logo href=https://qiucode.cn><img style=border-radius:4px src=/static/front/images/qiu-logo.png alt=秋码记录></a><nav class="kiwi_header__above-nav active-animate"><a class=item href=/ title=首页 style=margin-right:8px><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-home"/></svg></i>首页</a>
<a class=item href=/flinks title=友情链接><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-link"/></svg></i>友情链接</a>
<a class=item href=/timeline title=点点滴滴><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-date"/></svg></i>点点滴滴</a>
<a class=item href=/about title=关于我><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-user"/></svg></i>关于本站</a></nav><form class=kiwi_header__above-search method=get action=/search><input maxlength=16 autocomplete=off placeholder=请输入关键字... name=keyword class=input type=text>
<button type=submit class=submit aria-label=搜索按钮>
<i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-search"/></svg></i></button></form><i class="wpcom-icon wi kiwi_header__above-searchicon"><svg aria-hidden="true"><use xlink:href="#wi-search"/></svg></i></div></div><div class=kiwi_header__slideout><div class=kiwi_header__slideout-wrap><img width=100% height=150 class=kiwi_header__slideout-image src=/images/head_img.webp alt=侧边栏壁纸><div class=kiwi_header__slideout-author><img width=50 height=50 class="avatar ls-is-cached" src=/static/front/images/qiu-logo.png alt=博主头像><div class=info><a class=link href=https://qiucode.cn target=_blank rel="noopener noreferrer nofollow">秋码记录</a><p class="motto kiwi_motto">一个游离于山间之上的Java爱好者 | A Java lover living in the mountains</p></div></div><ul class=kiwi_header__slideout-count><li class=item><span>累计撰写 <strong>128</strong> 篇文章</span></li><li class=item><span>累计创建 <strong>270</strong> 个标签</span></li><li class=item><span>累计创建 <strong>42</strong> 个分类</span></li></ul><ul class="kiwi_header__slideout-menu panel-box"><li><a class="link panel in" href=# rel=nofollow><span>栏目</span>
<i class="joe-font joe-icon-arrow-right"></i></a><ul class="slides panel-body panel-box panel-side-menu" style=display:block><li><a class=link href=/ title=首页><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-home"/></svg></i>首页</a></li><li><a class=link href=/flinks title=友情链接><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-link"/></svg></i>友情链接</a></li><li><a class=link href=/timeline title=点点滴滴><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-date"/></svg></i>点点滴滴</a></li><li><a class=link href=/about title=关于我><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-user"/></svg></i>关于本站</a></li></ul></li></ul></div></div><div class=kiwi_header__searchout><div class=kiwi_container><div class=kiwi_header__searchout-inner><form class=kiwi_header__above-search-mobile method=get action=/search><input maxlength=16 autocomplete=off placeholder=请输入关键字... name=keyword class=input type=text>
<button type=submit class=submit>搜索</button></form></div></div></div><div class=kiwi_header__mask></div></header><div class="Qc_container showInUp"><style>.archive_title{font-size:2.2rem;font-weight:700;color:#fff;text-align:center;text-shadow:0 .1875rem .3125rem #1c1f21;padding:0 10px 10px 0;letter-spacing:.25rem}.archive_title .keyword{color:#d64646}</style><link rel=stylesheet href=https://qiucode.cn/css/index.min.css><div class="Qc_main index"><div class=Qc_index><div class=Qc_index_list><h3 class=archive_title>分类
<span class=keyword>Machine Learning</span></h3><ul class=Qc_list><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/199/ class=thumbnail title="错误分析 （Machine Learning 研习十九）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/golang-test/image-20240410133632643.png alt="错误分析 （Machine Learning 研习十九）"></a><div class=information><a href=/article/199/ class=title title="错误分析 （Machine Learning 研习十九）" rel="noopener noreferrer">错误分析 （Machine Learning 研习十九）</a>
<a class=abstract href=/article/199/ title=文章摘要 rel="noopener noreferrer">错误分析 您将探索数据准备选项，尝试多个模型，筛选出最佳模型，使用 Grid SearchCV微调其超参数，并尽可能实现自动化。在此，我们假设您已经找到了一个有前途的模型，并希望找到改进它的方法。其中一种方法就是分析它所犯的错误类型。
首先，查看混淆矩阵。为此，首先需要使用 cross_val_predict() 函数进行预测；然后可以像之前一样，将标签和预测值传递给 confusion_matrix()函数。不过，由于现在有 10 个类别而不是 2 个，混淆矩阵将包含大量数字，可能难以读取。
混淆矩阵的彩色图更容易分析。要绘制这样的图表，请使用ConfusionMatrixDisplay.from_predictions() 函数，如下所示：
from sklearn.metrics import ConfusionMatrixDisplay
y_train_pred = cross_val_predict(sgd_clf, X_train_scaled, y_train, cv=3) ConfusionMatrixDisplay.from_predictions(y_train, y_train_pred) plt.show() 这就产生了 图1 中的左图。这个混淆矩阵看起来相当不错：大多数图像都在主对角线上，这意味着它们被正确分类了。请注意，对角线上第 5 行第 5 列的单元格看起来比其他数字略暗。这可能是因为模型对 5 的错误较多，也可能是因为数据集中 5 的数量比其他数字少。这就是为什么要对混淆矩阵进行归一化处理，将每个值除以相应（真实）类别中的图像总数（即除以行的总和）。只需设置 normalize="true "即可。我们还可以指定 val ues_format=".0%"参数来显示不带小数点的百分比。下面的代码将生成 图1 右侧的图表：
ConfusionMatrixDisplay.from_predictions(y_train, y_train_pred, normalize="true", values_format=".0%") plt.show() 现在我们不难发现，只有 82% 的 5 图像被正确分类。模型在处理 5 的图像时最常见的错误是将其误判为 8：在所有 5 的图像中，有 10%的图像被误判为 8。但只有 2% 的 8 被误判为 5；混淆矩阵通常不是对称的！如果你仔细观察，就会发现很多数字都被错误地分类为 8，但从这张图上并不能一眼看出。如果想让错误更明显，可以尝试将正确预测的权重设为零。下面的代码就是这样做的，并生成了图2 左侧的图表：
sample_weight = (y_train_pred !</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-04-10</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/198/ class=thumbnail title="多类别分类器（Machine Learning 研习十八）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/golang-test/image-20240403152658895.png alt="多类别分类器（Machine Learning 研习十八）"></a><div class=information><a href=/article/198/ class=title title="多类别分类器（Machine Learning 研习十八）" rel="noopener noreferrer">多类别分类器（Machine Learning 研习十八）</a>
<a class=abstract href=/article/198/ title=文章摘要 rel="noopener noreferrer">多类别分类器 二元分类器可以区分两个类别，而多类别分类器（也称为多叉分类器）可以区分两个以上的类别。
一些 Scikit-Learn 分类器（如 LogisticRegression、RandomForestClassifier 和 GaussianNB）能够原生处理多个类别。其他分类器则是严格的二进制分类器（如 SGDClassifier 和 SVC）。不过，您可以使用多种策略来使用多个二进制分类器执行多类分类。
要创建一个能将数字图像分为 10 类（从 0 到 9）的系统，一种方法是训练 10 个二进制分类器，每个数字一个（0-检测器、1-检测器、2-检测器，以此类推）。然后，当您想对一幅图像进行分类时，您可以从每个分类器中得到该图像的判定分数，然后选择分类器输出分数最高的类别。这就是所谓的 &ldquo;以一敌百&rdquo;（OvR）策略，有时也称为 &ldquo;以一敌众&rdquo;（OvA）策略。
另一种策略是为每一对数字训练一个二元分类器：一个用于区分 0 和 1，另一个用于区分 0 和 2，还有一个用于区分 1 和 2，以此类推。这就是所谓的一对一（OvO）策略。如果有 N 个类别，则需要训练 N × (N - 1) / 2 个分类器。对于 MNIST 问题，这意味着要训练 45 个二进制分类器！当你想对一幅图像进行分类时，你必须让图像通过所有 45 个分类器，看看哪个分类器赢得了最多的对决。OvO 的主要优势在于，每个分类器只需在训练集中包含其必须区分的两个类别的部分进行训练。
有些算法（如支持向量机分类器）随训练集的大小而缩放，效果不佳。对于这些算法，OvO 是首选，因为在小训练集上训练多个分类器比在大训练集上训练少数分类器更快。不过，对于大多数二元分类算法来说，OvR 是首选。
Scikit-Learn 会检测你是否尝试在多分类任务中使用二元分类算法，并根据算法自动运行 OvR 或 OvO。让我们使用 sklearn.svm.SVC 类支持向量机分类器来尝试一下。我们只对前 2,000 张图像进行训练，否则会耗费很长时间：
from sklearn.svm import SVC svm_clf = SVC(random_state=42) svm_clf.fit(X_train[:2000], y_train[:2000]) # y_train, not y_train_5 我们使用从 0 到 9 的原始目标类别（y_train），而不是 5 对其余目标类别（y_train_5）来训练 SVC。由于有 10 个类别（即多于 2 个），Scikit-Learn 使用 OvO 策略训练了 45 个二元分类器。现在，让我们对一幅图像进行预测：</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-04-03</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/197/ class=thumbnail title="绘制特征曲线-ROC（Machine Learning 研习十七）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/golang-test/image-20240327101302829.png alt="绘制特征曲线-ROC（Machine Learning 研习十七）"></a><div class=information><a href=/article/197/ class=title title="绘制特征曲线-ROC（Machine Learning 研习十七）" rel="noopener noreferrer">绘制特征曲线-ROC（Machine Learning 研习十七）</a>
<a class=abstract href=/article/197/ title=文章摘要 rel="noopener noreferrer">接收者操作特征曲线（ROC）是二元分类器的另一个常用工具。它与精确度/召回率曲线非常相似，但 ROC 曲线不是绘制精确度与召回率的关系曲线，而是绘制真阳性率（召回率的另一个名称）与假阳性率（FPR）的关系曲线。FPR（也称 &ldquo;下降率&rdquo;）是阴性实例被错误归类为阳性实例的比率。它等于 1 - 真阴性率 (TNR)，即正确分类为阴性的阴性实例的比率。TNR 也称为特异性。因此，ROC 曲线是灵敏度（召回率）与 1 - 特异性的关系图
要绘制 ROC 曲线，首先要使用 roc_curve() 函数计算不同阈值的 TPR 和 FPR：
from sklearn.metrics import roc_curve fpr, tpr, thresholds = roc_curve(y_train_5, y_scores) 然后可以使用 Matplotlib 绘制 FPR 与 TPR 的对比图。下面的代码可以绘制出 见下图 所示的图形。要找到与 90% 精度相对应的点，我们需要查找所需阈值的索引。由于在这种情况下阈值是按递减顺序排列的，因此我们在第一行使用 &lt;= 而不是 >=：
idx_for_threshold_at_90 = (thresholds &lt;= threshold_for_90_precision).argmax() tpr_90, fpr_90 = tpr[idx_for_threshold_at_90], fpr[idx_for_threshold_at_90] plt.plot(fpr, tpr, linewidth=2, label="ROC curve") plt.plot([0, 1], [0, 1], 'k:', label="Random classifier's ROC curve") plt.plot([fpr_90], [tpr_90], "ko", label="Threshold for 90% precision") [.</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-03-29</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/196/ class=thumbnail title="精确率（召回率）的权衡（Machine Learning 研习十六）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/golang-test/image-20240321183105977.png alt="精确率（召回率）的权衡（Machine Learning 研习十六）"></a><div class=information><a href=/article/196/ class=title title="精确率（召回率）的权衡（Machine Learning 研习十六）" rel="noopener noreferrer">精确率（召回率）的权衡（Machine Learning 研习十六）</a>
<a class=abstract href=/article/196/ title=文章摘要 rel="noopener noreferrer">精确率（召回率）的权衡 为了理解这种权衡，让我们看看 SGDClassifier 如何做出分类决策。 对于每个实例，它根据决策函数计算分数。 如果该分数大于阈值，则将该实例分配给正类； 否则它会将其分配给负类。 图 3-4 显示了从左侧最低分数到右侧最高分数的几个数字。 假设决策阈值位于中心箭头（两个 5 之间）：您会在该阈值右侧发现 4 个真阳性（实际为 5），以及 1 个假阳性（实际上为 6）。 因此，使用该阈值，精度为 80%（5 分之 4）。 但在 6 个实际的 5 中，分类器仅检测到 4 个，因此召回率为 67%（6 中的 4）。 如果提高阈值（将其移动到右侧的箭头），假阳性（6）会变成真阴性，从而提高精度（在本例中高达 100%），但一个真阳性会变成假阴性 ，将召回率降低至 50%。 相反，降低阈值会增加召回率并降低精确度。
Scikit-Learn 不允许您直接设置阈值，但它允许您访问它用于进行预测的决策分数。 您可以调用其decision_function()方法，而不是调用分类器的predict()方法，该方法返回每个实例的分数，然后使用您想要根据这些分数进行预测的任何阈值：
SGDClassifier 使用等于 0 的阈值，因此前面的代码返回与 Predict() 方法相同的结果（即 True）。 让我们提高门槛：
这证实了提高阈值会降低召回率。 该图像实际上代表的是 5，当阈值为 0 时分类器会检测到它，但当阈值增加到 3,000 时分类器会错过它。
y_scores = cross_val_predict(sgd_clf, X_train, y_train_5, cv=3, method="decision_function") 有了这些分数，使用 precision_recall_curve() 函数计算所有可能阈值的精度和召回率（该函数添加最后精度 0 和最后召回率 1，对应于无限阈值）：
from sklearn.</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-03-21</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/195/ class=thumbnail title="对模型性能进行评估（Machine Learning 研习十五）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/qiucode2020/1710579587897.png alt="对模型性能进行评估（Machine Learning 研习十五）"></a><div class=information><a href=/article/195/ class=title title="对模型性能进行评估（Machine Learning 研习十五）" rel="noopener noreferrer">对模型性能进行评估（Machine Learning 研习十五）</a>
<a class=abstract href=/article/195/ title=文章摘要 rel="noopener noreferrer">在上一篇我们已然训练了一个用于对数字图像识别的模型，但我们目前还不知道该模型在识别数字图像效率如何？所以，本文将对该模型进行评估。
使用交叉验证衡量准确性 评估模型的一个好方法是使用交叉验证，让我们使用cross_val_score()函数来评估我们的 SGDClassifier 模型，使用三折的 k 折交叉验证。k-fold 交叉验证意味着将训练集分成 k 个折叠（在本例中是三个），然后训练模型 k 次，每次取出一个不同的折叠进行评估：
当您看到这组数字，是不是感到很兴奋？毕竟所有交叉验证折叠的准确率（预测准确率）均超过了 95%。然而，在您兴奋于这组数字前，还是让我们来看看一个假分类器，它只是将每张图片归入最常见的类别，在本例中就是负类别（即非 5）：
from sklearn.dummy import DummyClassifier dummy_clf = DummyClassifier() dummy_clf.fit(X_train, y_train_5) print(any(dummy_clf.predict(X_train))) # prints False: no 5s detected 您能猜出这个模型的准确度吗？让我们一探究竟：
没错，它的准确率超过 90%！这只是因为只有大约 10% 的图片是 5，所以如果你总是猜测图片不是 5，你就会有大约 90% 的时间是正确的。比诺斯特拉达穆斯还准。
这说明了为什么准确率通常不是分类器的首选性能指标，尤其是在处理偏斜 数据集时（即某些类别的出现频率远高于其他类别）。评估分类器性能的更好方法是查看混淆矩阵(CM)。
实施交叉验证 与 Scikit-Learn 现成提供的功能相比，您有时需要对交叉验证过程进行更多控制。在这种情况下，你可以自己实现交叉验证。下面的代码与 Scikit-Learn 的 cross_val_score() 函数做了大致相同的事情，并会打印出相同的结果：
from sklearn.model_selection import StratifiedKFold from sklearn.base import clone skfolds = StratifiedKFold(n_splits=3) # add shuffle=True if the dataset is # not already shuffled for train_index, test_index in skfolds.</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-03-15</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/194/ class=thumbnail title="图像识别之入门案例之数字识别（Machine Learning 研习十四）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/qiucode2020/1710579176461.png alt="图像识别之入门案例之数字识别（Machine Learning 研习十四）"></a><div class=information><a href=/article/194/ class=title title="图像识别之入门案例之数字识别（Machine Learning 研习十四）" rel="noopener noreferrer">图像识别之入门案例之数字识别（Machine Learning 研习十四）</a>
<a class=abstract href=/article/194/ title=文章摘要 rel="noopener noreferrer">在前面的文章中，我们曾提到最为常见的监督学习任务是回归（预测价值）和分类（预测类别）。我们使用线性回归、决策树和随机森林等各种算法探讨了回归任务，即预测房屋价值。现在，我们将把注意力转向分类系统。
MNIST数据集 我们将使用 MNIST 数据集，这是一组由人类手写的 70,000 张小数字图像。每张图片都标注了所代表的数字。人们对这个数据集的研究非常深入，以至于它经常被称为机器学习的 &ldquo;hello world&rdquo;：每当人们提出一种新的分类算法时，他们都会好奇地想看看这种算法在 MNIST 上的表现如何，而且任何学习机器学习的人迟早都会用到这个数据集。
Scikit-Learn 提供了许多下载流行数据集的辅助函数。MNIST 就是其中之一。以下代码从 OpenML.org 获取 MNIST 数据集：
from sklearn.datasets import fetch_openml mnist = fetch_openml('mnist_784', as_frame=False) sklearn.datasets 包主要包含三种类型的函数：fetch_* 函数（如 fetch_openml()）用于下载现实生活中的数据集；load_* 函数用于加载 Scikit-Learn捆绑的小型玩具数据集（因此无需通过互联网下载）；make_* 函数用于生成假数据集，对测试非常有用。生成的数据集通常以 (X, y) 元组的形式返回，其中包含输入数据和目标数据，两者都是 NumPy 数组。其他数据集以 sklearn.utils.Bunch 对象的形式返回，这是一个字典，其条目也可以作为属性访问。它们通常包含以下条目：
&ldquo;DESCR&rdquo;
​ 数据集描述
“data”
​ 输入数据，通常为Numpy二维数组
“target”
​ 标签，通常为Numpy一维数组
fetch_openml() 函数有点不寻常，因为默认情况下，它以 Pandas DataFrame 的形式返回输入，以 Pandas Series 的形式返回标签（除非数据集很稀疏）。但 MNIST 数据集包含图像，而 DataFrame 并不适合图像，因此最好设置 as_frame=False，以 NumPy 数组的形式获取数据。让我们来看看这些数组：
共有 70,000 幅图像，每幅图像有 784 个特征。这是因为每幅图像都是 28 × 28 像素，每个特征只代表一个像素的强度，从 0（白色）到 255（黑色）。让我们来看看数据集中的一个数字（图 3-1）。我们需要做的就是抓取一个实例的特征向量，将其重塑为 28 × 28 数组，然后使用 Matplotlib 的 imshow() 函数显示出来。我们使用 cmap="binary" 来获取灰度颜色图，其中 0 代表白色，255 代表黑色：</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-03-15</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/193/ class=thumbnail title="微调模型——续（Machine Learning 研习之十三）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/qiucode2020/1710578959569.png alt="微调模型——续（Machine Learning 研习之十三）"></a><div class=information><a href=/article/193/ class=title title="微调模型——续（Machine Learning 研习之十三）" rel="noopener noreferrer">微调模型——续（Machine Learning 研习之十三）</a>
<a class=abstract href=/article/193/ title=文章摘要 rel="noopener noreferrer">集成方法 微调系统的另一种方法是尝试组合性能最佳的模型。 群体（或“整体”）通常会比最好的单个模型表现得更好，就像随机森林比它们所依赖的单个决策树表现更好一样，特别是当各个模型犯下不同类型的错误时。 例如，您可以训练和微调 k 最近邻模型，然后创建一个仅预测随机森林预测和该模型预测的平均值的集成模型。
分析最佳模型及其错误 通过检查最佳模型，您通常会获得对问题的深入见解。 例如，RandomForestRegressor可以指示每个属性对于做出准确预测的相对重要性：
让我们按降序对这些重要性分数进行排序，并将它们显示在相应的属性名称旁边：
有了这些信息，您可能想尝试删除一些不太有用的功能（例如，显然只有一个ocean_proximity类别真正有用，因此您可以尝试删除其他功能）。
您还应该查看系统所犯的具体错误，然后尝试了解为什么会犯这些错误，以及如何解决问题：添加额外的功能或删除无信息的功能，清理异常值等。
现在也是一个好时机，可以确保您的模型不仅平均运行良好，而且适用于所有类别的地区，无论是农村还是城市、富裕还是贫穷、北部还是南部、少数民族还是非少数民族等。 每个类别的验证集需要一些工作，但这很重要：如果您的模型在整个地区类别上表现不佳，那么在问题解决之前可能不应该部署它，或者至少不应该使用它 对该类别进行预测，因为它可能弊大于利。
在测试集上评估您的系统 对模型进行一段时间的调整后，您最终会得到一个性能足够好的系统。 您已准备好在测试集上评估最终模型。 这个过程没有什么特别的； 只需从测试集中获取预测变量和标签并运行Final_model来转换数据并进行预测，然后评估这些预测：
X_test = strat_test_set.drop("median_house_value", axis=1) y_test = strat_test_set["median_house_value"].copy() final_predictions = final_model.predict(X_test) final_rmse = mean_squared_error(y_test, final_predictions, squared=False) print(final_rmse) # prints 41424.40026462184 在某些情况下，这样的泛化误差点估计不足以说服您启动：如果它只比当前生产的模型好 0.1% 怎么办？ 您可能想了解这个估计的精确度。 为此，您可以使用 scipy.stats.t.interval() 计算泛化误差的 95% 置信区间。 您会得到从 39,275 到 43,467 的相当大的区间，而您之前的点估计值 41,424 大致位于中间：
如果您进行了大量的超参数调整，性能通常会比使用交叉验证测量的性能稍差。 这是因为您的系统最终经过微调以在验证数据上表现良好，但在未知数据集上可能表现不佳。 本示例中的情况并非如此，因为测试 RMSE低于验证 RMSE，但当发生这种情况时，您必须抵制调整超参数以使数字在测试集上看起来不错的诱惑； 这些改进不太可能推广到新数据。
现在是项目预启动阶段：您需要展示您的解决方案（突出显示您所学到的内容、有效的内容和无效的内容、做出的假设以及系统的局限性），记录所有内容，并使用以下内容创建精美的演示文稿： 清晰的可视化和易于记忆的陈述（例如，“收入中位数是房价的第一预测指标”）。 在这个加州住房示例中，系统的最终性能并不比专家的价格估计好多少，专家的价格估计通常会下降 30%，但启动它可能仍然是一个好主意，特别是如果这样可以释放更多资金 给专家一些时间，以便他们可以从事更有趣、更有成效的任务。
启动、监控和维护您的系统 您现在需要准备好用于生产的解决方案（例如，完善代码、编写文档和测试等）。 然后您可以将模型部署到生产环境。 最基本的方法就是保存您训练的最佳模型，将文件传输到您的生产环境并加载它。 要保存模型，您可以使用 joblib 库，如下所示：</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-03-09</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/192/ class=thumbnail title="微调模型（Machine Learning 研习之十二）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/qiucode2020/1710578659001.png alt="微调模型（Machine Learning 研习之十二）"></a><div class=information><a href=/article/192/ class=title title="微调模型（Machine Learning 研习之十二）" rel="noopener noreferrer">微调模型（Machine Learning 研习之十二）</a>
<a class=abstract href=/article/192/ title=文章摘要 rel="noopener noreferrer">现在正处于百模乱战的时期，对于模型微调，想必您是有所了解了，毕竟国外的大语言模型一开源，国内便纷纷基于该模型进行微调，从而开始宣称领先于某某、超越了谁。可到头来，却让人发现他们套壳了国外大语言模型对外开放的API。
好了，我们不说国内各种大模型宣称超过了谁，毕竟，嘴巴长在别人脸上，我们管不了，也管不着，吹牛终将是会露馅的！
当我们需要对开源大模型进行微调时，看看有几种方法可以做到这一点的！
网格搜索 手动调整超参数，直到找到超参数值的完美组合。 这将是一项非常乏味的工作，而且您可能没有时间去探索多种组合。
相反，您可以使用 Scikit-Learn 的 GridSearchCV 类来搜索您。 您需要做的就是告诉它您希望它试验哪些超参数以及要尝试哪些值，它将使用交叉验证来评估超参数值的所有可能组合。 例如，以下代码搜索 RandomForestRegressor 的最佳超参数值组合：
from sklearn.model_selection import GridSearchCV full_pipeline = Pipeline([ ("preprocessing", preprocessing), ("random_forest", RandomForestRegressor(random_state=42)), ]) param_grid = [{'preprocessing__geo__n_clusters': [5, 8, 10], 'random_forest__max_features': [4, 6, 8]}, {'preprocessing__geo__n_clusters': [10, 15], 'random_forest__max_features': [6, 8, 10]}, ] grid_search = GridSearchCV(full_pipeline, param_grid, cv=3, scoring='neg_root_mean_squared_error') grid_search.fit(housing, housing_labels) 请注意，您可以引用管道中任何估计器的任何超参数，即使该估计器嵌套在多个管道和列转换器的深处。 例如，当 Scikit-Learn 看到“preprocessing__geo__n_clusters”时，它会在双下划线处分割该字符串，然后在管道中查找名为“preprocessing”的估计器并找到预处理 ColumnTransformer。 接下来，它在此 ColumnTransformer 中查找名为“geo”的转换器，并找到我们在纬度和经度属性上使用的 ClusterSimilarity 转换器。 然后它找到该变压器的n_clusters超参数。 同样，random_forest__max_features指的是名为“random_forest”的估计器的max_features超参数，这当然是RandomForest模型。
这个param_grid中有两个字典，因此GridSearchCV将首先评估第一个字典中指定的n_clusters和max_features超参数值的所有3×3=9个组合，然后它将尝试第一个字典中指定的所有2×3=6个超参数值组合 第二个字典。 因此，网格搜索总共将探索 9 + 6 = 15 种超参数值组合，并且每个组合都会对管道进行 3 次训练，因为我们使用的是 3 折交叉验证。 这意味着总共将有 15 × 3 = 45 轮训练！ 这可能需要一段时间，但是完成后您可以获得如下参数的最佳组合：</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-03-09</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/190/ class=thumbnail title="选择和训练模型（Machine Learning 研习之十一）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/qiucode2020/1705218124546.png alt="选择和训练模型（Machine Learning 研习之十一）"></a><div class=information><a href=/article/190/ class=title title="选择和训练模型（Machine Learning 研习之十一）" rel="noopener noreferrer">选择和训练模型（Machine Learning 研习之十一）</a>
<a class=abstract href=/article/190/ title=文章摘要 rel="noopener noreferrer">当您看到本文标题时，不禁感叹，总算是到了训练模型这一节了。
是啊，在之前的文章中，我们对数据进行了探索，以及对一个训练集和一个测试集进行了采样，也编写了一个预处理管道来自动清理，准备您的数据用于机器学习算法，然而现在，我们可以选择并训练模型了。
训练集的训练与评估 我们从一个最基本的线性回归模型开始：
from sklearn.linear_model import LinearRegression lin_reg = make_pipeline(preprocessing, LinearRegression()) lin_reg.fit(housing, housing_labels) 很好，至此，我们现在算是有了一个有效的线性回归模型，可以在训练集上试用它，查看前五个预测，并将它们与标签进行比较:：
第一个预测偏差很大(超过200,000美元!)，而其他预测则更好，两个预测偏差约25%，还有两个预测 偏差不到10%。请记住，您选择使用RMSE作为性能测度，因此您希望使用Scikit-Learn的mean_squared_error()函数在整个训练集上测量该回归模型的RMSE，并将平方参数设置为False。
这总比没有好，但显然不是一个很好的分数，大多数地区的房屋价值中位数在120,000美元和26.5万美元之间，所以一个典型的68628美元的预测误差真的不是很令人满意。这是一个模型拟合训练数据不足的示例。当这种情况发生时，可能意味着这些特征没有提供足够的信息来做出好的预测，或者模型不够强大。
正如我们在上一章中看到的，修复欠拟合的主要方法是选择一个更强大的模型，为训练算法提供更好的特征，或者减少对模型的约束。这个模型没有正规化，这就排除了最后一个选项。您可以尝试添加更多功能，但首先您要尝试更复杂的模型，看看它是如何工作的。
您决定尝试DecisionTreeRegressor，因为这是一个相当强大的模型，能够在数据中找到复杂的非线性关系(后续篇章将更详细地介绍决策树)：
from sklearn.tree import DecisionTreeRegressor tree_reg = make_pipeline(preprocessing, DecisionTreeRegressor(random_state=42)) tree_reg.fit(housing, housing_labels) 现在模型已训练完毕，您可以在训练集中对其进行评估：
等等，难道这个模型真的很完美吗？当然咯，更有可能的是模型严重地过度拟合了数据。您怎么能确定正如你前面看到的，在您准备好启动一个您有信心的模型之前，您不想碰测试集，所以您需要使用一部分训练集进行训练，另一部分用于模型验证。
使用交叉验证进行更好的评估 评估决策树模型的一种方法是使用train_test_split()函数将训练集拆分为较小的训练集和验证集，然后针对较小的训练集训练您的模型，并针对验证集对其进行评估。这是一点努力，但没有太难，它会工作得相当不错。
一个很好的替代方法是使用Scikit-Learn的k_-fold交叉验证特性。下面的代码随机地将训练集分成10个不重叠的子集，称为fold，然后训练和评估决策树模型10次，每次选择不同的fold进行评估，并使用其他9个fold进行训练。结果是一个包含10个评价分数的数组：
from sklearn.model_selection import cross_val_score tree_rmses = -cross_val_score(tree_reg, housing, housing_labels, scoring="neg_root_mean_squared_error", cv=10) 警告：
Scikit-Learn的交叉验证功能期望的是效用函数(越大越好)而不是成本函数(越低越好)，所以评分函数实际上是RMSE的反面。它是一个负值，所以您需要切换输出的符号来获得RMSE分 数。
让我们来看看结果吧：
现在决策树看起来不像以前那么好了。事实上，它的表现几乎和线性回归模型一样差！请注意，交叉验证不仅允许您获得模型性能的估计值，还允许您测量该估计值的精确度(即其标准差)。决策树的均方根误差约为66，868，标准差约为2,061。如果只使用一个验证集，则不会有此信息。但是交叉验证是以多次训练模型为代价的，所以它并不总是可行的。
如果您为线性回归模型计算相同的度量，您将发现平均RMSE为69，858，标准差为4,182。因此，决策树模型的性能似乎比线性模型稍微好一点，但由于严重的过拟合，差异很小。我们知道存在过拟合 问题，因为训练误差很低(实际上为零)，而验证误差很高。
现在让我们尝试最后一个模型:随机森林调节器，随机森林的工作原理是在特征的随机子集上训练许多决策树，然后平均出它们的预测值。这样的模型组成的许多其他模型被称为合奏:他们能够提高性能基础模型(在本例中为决策树)。代码与前面的代码大同小异：
from sklearn.ensemble import RandomForestRegressor forest_reg = make_pipeline(preprocessing, RandomForestRegressor(random_state=42)) forest_rmses = -cross_val_score(forest_reg, housing, housing_labels, scoring="neg_root_mean_squared_error", cv=10) 随机森林真的看起来非常有前途的任务！但是，如果您训练一个RandomForest并测量训练集上的RMSE，您将发现大约17，474:这要低得多，这意味着仍然存在大量的过度拟合。可能的解决方案是 简化模型，约束它(即，规则化它)，或得到更多的训练数据。但是，在深入研究随机森林之前，您应该尝试来自各种类别机器学习算法的许多其他模型(例如，具有不同内核的多个支持向量机，可能还有一个神经网络)，而无需花费太多时间调整超参数。目标是列出几个(两到五个)有前途的模型。</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2024-01-14</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li><style>@keyframes rotating{from{transform:rotate(0)}to{transform:rotate(360deg)}}.faq-rotating{animation:rotating 3s linear infinite}.Qc_home_articie-si.default{display:flex;position:relative}.Qc_home_articie-si{box-shadow:var(--darkreader-bg--box-shadow);background:var(--darkreader-bg--background)}.Qc_home_articie-si{position:relative;width:100%;background:var(--background);border-radius:var(--radius-wrap);padding:15px;box-shadow:var(--box-shadow);margin-bottom:20px}.Qc_home_articie-si.default .thumbnail{flex-shrink:0;position:relative;width:210px;height:140px;margin-right:15px;overflow:hidden;border-radius:var(--radius-inner)}@media(max-width:1199px){html .Qc_home_articie-si.default .thumbnail{width:185px;height:125px}}@media(max-width:768px){html .Qc_home_articie-si.default .thumbnail{width:140px;height:120px;margin-right:10px}html .Qc_home_articie-si.default .meta .items{width:100%}html .Qc_home_articie-si.default .meta .items li:nth-child(1){display:flex}html .Qc_home_articie-si.default .meta .items li:nth-child(2){display:flex;margin-left:auto}html .Qc_home_articie-si.default .meta .items li{display:none}html .Qc_home_articie-si .meta .last{display:none!important}}.Qc_home_articie-si.default .thumbnail img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:.35s}.Qc_home_articie-si.default .information{display:flex;flex-direction:column;flex:1;min-width:0}.Qc_home_articie-si .information .title{color:var(--darkreader-text--main)}.Qc_home_articie-si .information .title{margin-bottom:10px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-word;color:var(--main);font-size:18px;line-height:24px;max-height:48px;transition:color .35s}.Qc_home_articie-si .information .title .badge{background-image:initial;background-color:rgba(165,29,42,.81);color:#e8e6e3}.Qc_home_articie-si .information .title .badge{height:20px;line-height:20px;background:#dc3545cf;color:#fff;font-size:12px;margin-right:5px;border-radius:2px;padding:0 8px;white-space:nowrap;vertical-align:2px}.Qc_home_articie-si .abstract{color:var(--darkreader-text--minor)}.Qc_home_articie-si .abstract{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:var(--minor);word-break:break-word;line-height:22px;max-height:44px;opacity:.85}.Qc_home_articie-si .meta{color:var(--darkreader-text--minor)}.Qc_home_articie-si .meta{display:flex;align-items:center;margin-top:auto;color:var(--minor);font-size:13px}.Qc_home_articie-si .meta .items{display:flex;align-items:center;flex-wrap:wrap}.Qc_home_articie-si .meta .items li{display:flex;align-items:center;margin-right:15px}.Qc_home_articie-si .meta .last{margin-left:auto;display:flex;align-items:center}.icon2{fill:currentcolor}.icon2{width:1rem;height:1rem;margin-right:2px;fill:currentColor;overflow:hidden;flex-shrink:0}.Qc_home_articie-si .meta .last .link{color:var(--darkreader-text--minor)}</style><li class="Qc_home_articie-si default"><a href=/article/189/ class=thumbnail title="机器学习中的 Transformation Pipelines（Machine Learning 研习之十）" rel="noopener noreferrer"><img style=zoom:50% loading=lazy src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucodeimg.oss-rg-china-mainland.aliyuncs.com/qiucode2020/1703937560847.png alt="机器学习中的 Transformation Pipelines（Machine Learning 研习之十）"></a><div class=information><a href=/article/189/ class=title title="机器学习中的 Transformation Pipelines（Machine Learning 研习之十）" rel="noopener noreferrer">机器学习中的 Transformation Pipelines（Machine Learning 研习之十）</a>
<a class=abstract href=/article/189/ title=文章摘要 rel="noopener noreferrer">Transformation Pipelines 有许多数据转换步骤需要以正确的顺序执行。幸运的是，Scikit-Learn提供了Pipeline类来帮助处理这样的转换序列。下面是一个用于数值属性的小管道，它首先对输入特性进行归并，然后对输入特性进行缩放:
from sklearn.pipeline import Pipeline num_pipeline = Pipeline([ ("impute", SimpleImputer(strategy="median")), ("standardize", StandardScaler()), ]) Pipeline构造函数采用名称/估算器对(2元组)的列表，定义了一系列步骤。名称可以是您喜欢的任何名称，只要它们是唯一的，并且不包含双下划线(__)。以后我们讨论超参数调优时，它们会很有用。估计器必须都是转换器(即，它们必须有一个fit_transform()方法)，除了最后一个，它可以是任何东西:转换器、预测器或任何其他类型的估计器。
如果你不想命名transformers你可以使用 make_pipeline() 函数； 它将transformers作为位置参数，并使用transformers类的名称（小写且不带下划线）创建管道（例如，“simpleimputer”）：
from sklearn.pipeline import make_pipeline num_pipeline = make_pipeline(SimpleImputer(strategy="median"), StandardScaler()) 如果多个transformers具有相同的名称，则会在其名称后附加索引（例如“foo-1”、“foo-2”等）。
当您调用管道的 fit() 方法时，它会在所有transformers上顺序调用 fit_transform()，将每个调用的输出作为参数传递给下一个调用，直到到达最终估计器，为此它只调用 fit() 方法。
该管道公开与最终估计器相同的方法。 在此示例中，最后一个估计器是 StandardScaler，它是一个transformers，因此管道也充当transformers。 如果您调用管道的transform()方法，它将按顺序将所有转换应用于数据。 如果最后一个估计器是预测器而不是变换器，那么管道将具有 Predict() 方法而不是 Transform() 方法。 调用它会按顺序将所有转换应用于数据并将结果传递给预测器的 Predict()方法
让我们调用管道的 fit_transform() 方法并查看输出的前两行，四舍五入到小数点后两位：
如前所述，如果要恢复一个漂亮的DataFrame，可以使用管道的get_feature_names_ out()方法:
df_housing_num_prepared = pd.DataFrame( housing_num_prepared, columns=num_pipeline.get_feature_names_out(), index=housing_num.index) 管道支持索引;例如，管道[1]返回管道中的第二个估计值，管道[:-1]返回一个包含除最后一个估计值以外的所有估计值的管道对象。您还可以通过steps属性(它是名称/估算器对的列表)或named_steps字典属性(它将名称映射到估算器)访问估算器。例如，num_line[“ simpleimputer”]返回名为“simpleimputer”的估计器。
到目前为止，我们已经分别处理了分类列和数值列。如果有一个能够处理所有列的转换器，将适当的转换应用到每一列，那会更方便。为此，您可以使用olumnTransformer。例如，下面的ColumnTransformer将把num_pipeline(我们刚刚定义的那个)应用于数字属性，把cat_pipeline应用于类别属性:
from sklearn.compose import ColumnTransformer num_attribs = ["longitude", "latitude", "housing_median_age", "total_rooms", "total_bedrooms", "population", "households", "median_income"] cat_attribs = ["ocean_proximity"] cat_pipeline = make_pipeline( SimpleImputer(strategy="most_frequent"), OneHotEncoder(handle_unknown="ignore")) preprocessing = ColumnTransformer([ ("num", num_pipeline, num_attribs), ("cat", cat_pipeline, cat_attribs), ]) 首先导入ColumnTransformer类，然后定义数字和分类列名的列表，并为分类属性构造一个简单的管道。最后，我们构造了一个列变换器。它的构造函数需要一个三元组(3-tuple)列表，每个三元组包含一个名称(必须是唯一的且不包含双下划线)、一个转换器和一个应该应用转换器的列的名称(或索引)列表。</a><div class=meta><ul class=items><li><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-time"/></svg></i>&nbsp;&nbsp;2023-12-11</li></ul><div class=last style=display:flex><i class="wpcom-icon wi" style=margin-right:2px;font-size:15px><svg aria-hidden="true"><use xlink:href="#wi-folder-open"/></svg></i>&nbsp;&nbsp;
<span itemprop=about itemscope itemtype=http://schema.org/Thing><a class=link href=/categories/ itemprop=url rel="noopener noreferrer index"><span itemprop=name>[Machine Learning 人工智能]</span></a></span></div></div></div></li></ul></div><ul class=Qc_pagination><li class=active><a href=https://qiucode.cn/categories/machine-learning/>1</a></li><li><a class=pageLast href=https://qiucode.cn/categories/machine-learning/page/2/>2</a></li></ul></div></div><aside class=Qc_aside><section class="Qc_aside_item author"><img width=100% height=120 class="image ls-is-cached lazyloaded" src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucode.cn/images/head_img.webp loading=lazy alt=博主栏壁纸><div class=user><div class="avatar_wrapper circle"><img class="avatar lazyloaded" src=https://qiucode.cn/images/loading.gif data-lazy-src=https://qiucode.cn/imgs/icons/apple_touch_icon_next.png loading=lazy alt=博主头像></div><p class="motto joe_motto">一个游离于山间之上的江湖漫行者。</p><p class="motto joe_motto">A jungle wanderer who wanders above the mountains.</p></div><div class=count><div class=item title="累计分类数 22"><span class=num>42</span>
<span>分类数</span></div><div class=item title="累计文章数 45"><span class=num>128</span>
<span>文章数</span></div><div class=item title="累计评论数 452"><span class=num>270</span>
<span>标签数</span></div></div></section><link rel=stylesheet crossorigin href=/calendar/index-B9W94nXs.css><section class="Qc_aside_item calendar_area"><div class=qiucode-calendar></div></section><section class="Qc_aside_item tags"><div class=Qc_aside_item-title><i class="iconfont icon-A67" style=margin-right:8px;font-size:17px></i>
<span class=text>文章分类</span>
<a class=card-more-btn href=/categories/ title=查看更多 data-pjax-state><i class="fa fa-angle-right"></i></a></div><div class=Qc_aside_item-contain style=padding:10px><div class=tag></div><ul class=card-category-list id=aside-cat-list><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/><span class=card-category-list-name>云计算</span>
<span class=card-category-list-count>1</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/><span class=card-category-list-name>人工智能</span>
<span class=card-category-list-count>20</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E5%89%8D%E7%AB%AF/><span class=card-category-list-name>前端</span>
<span class=card-category-list-count>11</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/><span class=card-category-list-name>区块链</span>
<span class=card-category-list-count>20</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E5%BB%BA%E7%AB%99/><span class=card-category-list-name>建站</span>
<span class=card-category-list-count>5</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/><span class=card-category-list-name>微信小程序</span>
<span class=card-category-list-count>3</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/><span class=card-category-list-name>智能合约</span>
<span class=card-category-list-count>18</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E6%A8%A1%E6%9D%BF/><span class=card-category-list-name>模板</span>
<span class=card-category-list-count>1</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/><span class=card-category-list-name>版本控制</span>
<span class=card-category-list-count>4</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E7%94%9F%E6%B4%BB%E6%83%85%E6%84%9F/><span class=card-category-list-name>生活情感</span>
<span class=card-category-list-count>1</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/><span class=card-category-list-name>生活随笔</span>
<span class=card-category-list-count>2</span></a></li></ul></div></section><style>ul.card-category-list{margin:0;padding:0;list-style:none}ul.card-category-list>.card-category-list-item a{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:3px 10px;color:var(--main);-webkit-transition:all .4s;-moz-transition:all .4s;-o-transition:all .4s;-ms-transition:all .4s;transition:all .4s}ul.card-category-list>.card-category-list-item a:hover{padding:3px 17px;background-color:var(--theme)}ul.card-category-list>.card-category-list-item a span:first-child{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.card-category-list.child{padding:0 0 0 16px}.card-category-list>.parent>a .card-category-list-name{width:70%!important}.card-category-list>.parent>a .card-category-list-count{width:calc(100% - 70% - 20px);text-align:right}.card-category-list>.parent i{float:right;margin-right:-.5em;padding:.5em;-webkit-transition:-webkit-transform .3s;-moz-transition:-moz-transform .3s;-o-transition:-o-transform .3s;-ms-transition:-ms-transform .3s;transition:transform .3s;-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}.card-category-list>.parent i.expand{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.card-more-btn{position:absolute;color:inherit;float:right;right:55px;top:0}.card-more-btn:hover{-webkit-animation:more-btn-move 1s infinite;-moz-animation:more-btn-move 1s infinite;-o-animation:more-btn-move 1s infinite;-ms-animation:more-btn-move 1s infinite;animation:more-btn-move 1s infinite}</style><section class="Qc_aside_item tags"><div class=Qc_aside_item-title><i class="iconfont icon-A67" style=margin-right:8px;font-size:17px></i>
<span class=text>标签云</span>
<span class=xccx_mac></span></div><div id=sourrounding_div style=width:100%;height:100%;min-height:500px><div id=tag-canvas></div></div></section><span id=tag-temp style=display:none>[{"abstract":1},{"ag-grid":1},{"ai":1},{"apache":1},{"array":1},{"bootstraptable":1},{"branch":1},{"break":1},{"canvas":1},{"centos":3},{"centos7":1},{"channel":3},{"chatgpt":1},{"chrome-v3":1},{"chrome扩展":1},{"clone":1},{"constant":1},{"continue":1},{"cos":1},{"css计算器":1},{"curl":1},{"dict":1},{"dom-to-image":1},{"error":1},{"event":1},{"extends":1},{"extjs":1},{"freemarker":1},{"git":1},{"git-clone":1},{"git-push":1},{"gitee":1},{"github":5},{"global-variable":1},{"goland":1},{"golang":3},{"golang-sdk安装":1},{"goto":1},{"html2canvas":1},{"html转image":1},{"html转图片":1},{"https":2},{"https配置":1},{"hugo":5},{"ide":1},{"ie10兼容":1},{"immutable":1},{"interface":1},{"java8":2},{"java8新特性":1},{"jdk8":1},{"lambda":1},{"library":1},{"list":1},{"liteide":1},{"machine-learning":11},{"maven":1},{"mechine-learn":1},{"merge":1},{"modifier":1},{"moduels":1},{"mpvue":1},{"mysql":1},{"navicat12":1},{"nexus":1},{"nginx":4},{"nlp":2},{"nodejs":2},{"npm-adduser":1},{"npm发布项目":1},{"npm注册账号":1},{"oracle":1},{"oracle-library-is-not-loaded":1},{"oss":2},{"package":2},{"php":1},{"php-fpm":1},{"pipelines":1},{"pointer":1},{"prism":1},{"redis":2},{"remix":1},{"requirejs":1},{"scikit-learn":7},{"serverless":1},{"slice":1},{"springboot上传图片":1},{"ssl":1},{"struct":1},{"switch":1},{"tags":1},{"template":1},{"tensorflow":1},{"theme":5},{"thinkphp":1},{"thinkphp.1":1},{"timed-out":1},{"tomcat":1},{"tooltip":1},{"transformers":1},{"treepanel":1},{"type-alias":1},{"ubuntu-16.04lts":2},{"ui框架":1},{"vps":1},{"vs-code":2},{"vxe-table":2},{"web3":2},{"while":1},{"wordpress":1},{"x-editable.js":1},{"ztree":1},{"一键复制":1},{"不甘心":1},{"个人博客":4},{"主题":1},{"事件":1},{"二维数组":1},{"二进制":1},{"云对象存储":2},{"云服务器":4},{"交叉验证":1},{"人工智能":9},{"代码块":1},{"代码高亮":1},{"以太坊":18},{"任务":2},{"信道":1},{"修饰器":1},{"值类型":1},{"全局变量":1},{"关键字":1},{"内存地址":1},{"内容过多省略":1},{"决策树":1},{"函数":2},{"函数变量":1},{"函数式接口":2},{"分支":1},{"分类器":2},{"切片":1},{"列表":1},{"包":2},{"区块链":21},{"匿名函数":1},{"匿名变量":1},{"单元格单击":1},{"单向信道":1},{"博客主题":1},{"双十一":1},{"双向链表":1},{"变量作用域":1},{"召回率":2},{"可变参数":1},{"可变性":1},{"可见性":1},{"合约继承":1},{"回调函数":2},{"困惑":1},{"图片水印":1},{"在线学习":1},{"在线编辑器":1},{"域名":3},{"基于vue2.x的ui组件库":1},{"基本类型":2},{"备案":3},{"多值返回":1},{"多核":1},{"多线程":1},{"多维数组":1},{"大量数据处理":1},{"天气很好":1},{"奇果":1},{"字典":1},{"字符串":1},{"实战":2},{"实战项目":1},{"常量":1},{"年末总结":1},{"并发编程":1},{"序号":1},{"延迟执行":1},{"建站":1},{"开源大模型":1},{"异常":1},{"异常处理":1},{"异步加载树":1},{"引用类型":1},{"循环结构":1},{"微信小程序":1},{"托管平台":1},{"托管网站":1},{"批量学习":1},{"抽象合约":1},{"拼团":1},{"指针":1},{"挑战":2},{"接受者":1},{"接口":2},{"接口转换":1},{"数据库":1},{"数据标注":1},{"数组":1},{"数组分组":1},{"文件上传":1},{"文件下载":1},{"文章分享":1},{"文章奴鲁":1},{"方法":1},{"方法集":1},{"映射":1},{"智能合约":18},{"本地仓库":1},{"机器学习":18},{"枚举类型":1},{"标签":1},{"标识符":1},{"模型":2},{"模板发送邮件":1},{"横向树状":1},{"池塘":1},{"流程控制":1},{"测试集":1},{"海报":1},{"深度学习":6},{"混肴矩阵":1},{"添加水印":1},{"版本控制":2},{"特征曲线":1},{"环境搭建":1},{"电商":2},{"登山":1},{"空接口":2},{"端到端":2},{"类型别名":1},{"类型推导":1},{"类型断言":1},{"类型转换":1},{"精确率":1},{"结构体":1},{"缓冲信道":1},{"腾讯云":1},{"自定义提示":1},{"花鸟市场":1},{"虚拟主机":1},{"表单":1},{"表格行内编辑":1},{"训练数据":2},{"训练模型":1},{"训练集":1},{"语法题":1},{"负重前行":1},{"超时":1},{"跑酷":1},{"跨越switch":1},{"转义符":1},{"远程仓库":1},{"部署静态网站":1},{"配置":1},{"错误分析":1},{"错误处理":2},{"闭包":1},{"防火墙":1},{"阿里云":3},{"阿里云oss":1},{"随机森林":1},{"隐藏/显示表格行":1},{"静态资源":1},{"预定义标识符":1},{"首页":1}]</span>
<script>var XISHU=20,wordFreqData,jsonObj,arr,isDark,div=document.querySelector("#sourrounding_div"),canvas=document.querySelector("#tag-canvas");canvas.style.width=div.offsetWidth+"px",canvas.style.height=div.offsetHeight+"px",wordFreqData=document.querySelector("#tag-temp").innerHTML,jsonObj=JSON.parse(wordFreqData),arr=[],jsonObj.forEach(e=>{var t=Object.keys(e),n=[t[0],e[t]*XISHU];arr.push(n)}),isDark=document.body.className.includes("dark"),WordCloud(canvas,{list:arr,shape:"pentagon",gridSize:6,weightFactor:1,fontWeight:"normal",fontFamily:"Times, serif",color:isDark?"random-light":"random-dark",backgroundColor:"transparent",classes:"tag-cloud-item word-color"}),canvas.addEventListener("wordcloudstop",function(){setTimeout(()=>{var e=document.querySelectorAll(".word-color");Array.from(e).forEach(e=>{e.classList.add("word-animate")})},2e3),document.querySelectorAll(".tag-cloud-item").forEach(function(e){const t=e.innerHTML;e.innerHTML=`<a href="/tags/${t}" style="color: inherit;">${t}</a>`})})</script><section class="Qc_aside_item tags"><div class=qiucodeads><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7185292421366258 data-ad-slot=4595341504 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></section></aside></div><div class=qiucodeads><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7185292421366258 data-ad-slot=8831869919 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class=Qc_footer><div style=clear:both></div><div class=Qc_container><div class=item><p>Copyright 2018 - 2024 by &copy; <a href=https://qiucode.cn>秋码记录</a></p></div><div class=item><p><strong>Powered by <span style=color:blue;font:bold>Hugo</span>&nbsp;&nbsp;|&nbsp;&nbsp;Theme by
<a href=https://github.com/zhenqicai/hugo-theme-kiwi target=_blank>hugo-theme-kiwi V0.0.12</a></strong></p></div></div></div></footer><div class=joe_action><div class="joe_action_item scroll" title=返回顶部><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25"><path d="M725.902 498.916c18.205-251.45-93.298-410.738-205.369-475.592l-6.257-3.982-6.258 3.414c-111.502 64.853-224.711 224.142-204.8 475.59-55.751 53.476-80.214 116.623-80.214 204.8v15.36l179.2-35.27c11.378 40.39 58.596 69.973 113.21 69.973 54.613.0 101.262-29.582 112.64-68.836l180.337 36.41v-15.36c-.569-89.885-25.031-153.6-82.489-206.507zM571.733 392.533c-33.564 31.29-87.04 28.445-118.329-5.12s-28.444-87.04 5.12-117.76c33.565-31.289 87.04-28.444 118.33 5.12s28.444 86.471-5.12 117.76zm-56.32 368.64c-35.84.0-64.284 29.014-64.284 64.285.0 35.84 54.044 182.613 64.284 182.613s64.285-146.773 64.285-182.613c0-35.271-29.014-64.285-64.285-64.285z"/></svg><div class=vp-scroll-progress><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" width="80" height="80"><circle cx="26" cy="26" r="24" fill="none" stroke="var(--theme)" stroke-width="5" style="--darkreader-inline-stroke:currentColor"/></svg></div></div><a class=joe_action_item href=https://qiucode.cn/index.xml target=_blank title="RSS 订阅"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke="var(--theme)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a><div class="joe_action_item mode"><svg class="icon-1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25"><path d="M587.264 104.96c33.28 57.856 52.224 124.928 52.224 196.608.0 218.112-176.128 394.752-393.728 394.752-29.696.0-58.368-3.584-86.528-9.728C223.744 832.512 369.152 934.4 538.624 934.4c229.376.0 414.72-186.368 414.72-416.256 1.024-212.992-159.744-389.12-366.08-413.184z"/><path d="M340.48 567.808l-23.552-70.144-70.144-23.552 70.144-23.552 23.552-70.144 23.552 70.144 70.144 23.552-70.144 23.552-23.552 70.144zM168.96 361.472l-30.208-91.136-91.648-30.208 91.136-30.208 30.72-91.648 30.208 91.136 91.136 30.208-91.136 30.208-30.208 91.648z"/></svg><svg class="icon-2 active" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25"><path d="M234.24 512a277.76 277.76.0 10555.52.0 277.76 277.76.0 10-555.52.0zM512 187.733a42.667 42.667.0 01-42.667-42.666v-102.4a42.667 42.667.0 0185.334.0v102.826A42.667 42.667.0 01512 187.733zm-258.987 107.52a42.667 42.667.0 01-29.866-12.373l-72.96-73.387a42.667 42.667.0 0159.306-59.306l73.387 72.96a42.667 42.667.0 010 59.733 42.667 42.667.0 01-29.867 12.373zm-107.52 259.414H42.667a42.667 42.667.0 010-85.334h102.826a42.667 42.667.0 010 85.334zm34.134 331.946a42.667 42.667.0 01-29.44-72.106l72.96-73.387a42.667 42.667.0 0159.733 59.733l-73.387 73.387a42.667 42.667.0 01-29.866 12.373zM512 1024a42.667 42.667.0 01-42.667-42.667V878.507a42.667 42.667.0 0185.334.0v102.826A42.667 42.667.0 01512 1024zm332.373-137.387a42.667 42.667.0 01-29.866-12.373l-73.387-73.387a42.667 42.667.0 010-59.733 42.667 42.667.0 0159.733.0l72.96 73.387a42.667 42.667.0 01-29.44 72.106zm136.96-331.946H878.507a42.667 42.667.0 110-85.334h102.826a42.667 42.667.0 010 85.334zM770.987 295.253A42.667 42.667.0 01741.12 282.88a42.667 42.667.0 010-59.733l73.387-72.96a42.667 42.667.0 1159.306 59.306l-72.96 73.387a42.667 42.667.0 01-29.866 12.373z"/></svg></div></div><script></script><script>var themeBtn=document.querySelector(".joe_action .joe_action_item.mode");let icon_1=document.querySelector(".joe_action .joe_action_item.mode .icon-1"),icon_2=document.querySelector(".joe_action .joe_action_item.mode .icon-2");themeBtn.addEventListener("click",()=>{icon_1.classList.contains("active")?(icon_1.classList.remove("active"),icon_2.classList.add("active"),document.querySelector("html").removeAttribute("data-night"),localStorage.setItem("pref-theme","light")):(icon_2.classList.remove("active"),icon_1.classList.add("active"),document.querySelector("html").setAttribute("data-night","night"),localStorage.setItem("pref-theme","dark"))}),document.addEventListener("DOMContentLoaded",()=>{if(localStorage.getItem("pref-theme")==="dark"?(icon_2.classList.remove("active"),icon_1.classList.add("active"),document.querySelector("html").setAttribute("data-night","night")):(icon_1.classList.remove("active"),icon_2.classList.add("active"),document.querySelector("html").removeAttribute("data-night")),localStorage.getItem("reading")==="on"){document.querySelector("body").classList.add("reading");let e=`<div class="reading-back" id="j-reading-back" onclick="readingBack()">
												<i class="wpcom-icon wi">
													<svg aria-hidden="true">
														<use xlink:href="#wi-back"></use>
													</svg>
												</i>
											</div>`,t=document.createRange().createContextualFragment(e);document.querySelector("body").appendChild(t)}else document.querySelector("body").classList.remove("reading")})</script><script>function registerImageLoadEvent(){const e=document.querySelectorAll(".sidebar img, .Qc_post img, .vendors-list img"),t=e=>{e.forEach(e=>{if(e.intersectionRatio>0){let t=e.target,n=t.getAttribute("src");t.setAttribute("src","1.png"),t.setAttribute("data-lazy-src",n),t.classList.add("lazyload")}})};Array.from(e).forEach(e=>{const t="/images/loading.gif";e.setAttribute("data-lazy-src",e.src),e.src=t})}registerImageLoadEvent()</script><script src=https://qiucode.cn/js/lazyload.life.min.js></script>
<script>const lazyloadImg=()=>{window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})};lazyloadImg()</script><script>var mybutton=document.querySelector(".joe_action .joe_action_item.scroll");window.onscroll=function(){const a=window.scrollY||document.documentElement.scrollTop,n=document.querySelector(".Qc_container"),s=n.clientHeight,e=document.documentElement.clientHeight,r=n.offsetTop,c=s>e?s-e:document.documentElement.scrollHeight-e,l=(a-r)/c,t=Math.round(l*100),o=t>100?100:t<=0?0:t;let i=document.querySelector(".vp-scroll-progress svg circle");document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.classList.add("active"),document.querySelector(".vp-scroll-progress").classList.add("active"),i.setAttribute("stroke-dasharray",`${Math.PI*o*.48} ${Math.PI*(100-o)*.48}`),i.setAttribute("stroke","var(--theme)")):(mybutton.classList.remove("active"),document.querySelector(".vp-scroll-progress").classList.remove("active"))},mybutton.addEventListener("click",()=>{document.documentElement.scrollTop=document.body.scrollTop=0})</script><script>let sideBtn=document.querySelector(".kiwi_header__above-searchicon");sideBtn.addEventListener("click",()=>{document.querySelector(".kiwi_header__searchout").style.visibility="visible",document.querySelector(".kiwi_header__mask").classList.add("active")});let maskBtn=document.querySelector(".kiwi_header__mask"),slideout=document.querySelector(".kiwi_header__slideout");maskBtn.addEventListener("click",()=>{maskBtn.classList.remove("active"),document.querySelector("body").style.overflow="",maskBtn.classList.remove("active"),maskBtn.classList.remove("slideout"),document.querySelector(".kiwi_header__searchout").style.visibility="hidden",slideout.classList.remove("active")});let sildeIcon=document.querySelector(".kiwi_header__above-slideicon");sildeIcon.addEventListener("click",()=>{document.querySelector(".kiwi_header__searchout").style.visibility="hidden",slideout.classList.contains("active")?(document.querySelector("body").style.overflow="",maskBtn.classList.remove("active slideout"),slideout.classList.remove("active")):(document.querySelector("body").style.overflow="hidden",maskBtn.classList.add("active"),maskBtn.classList.add("slideout"),slideout.classList.add("active"))})</script><script type=module>
			import { init } from 'https:\/\/qiucode.cn\/js/third-party/comments/waline.mjs';
		
			await init({
				el: '.waline-container',
				placeholder: "请不要吝啬您的评论 ヾ(≧▽≦*)o",
				sofa: "瞧，这里没人，还不抢占第一的位置 (≧∀≦)ゞ",
				pageview: true, 
				comment: true, 
				emoji: [
					'//unpkg.com/@waline/emojis@1.1.0/weibo',
					'//unpkg.com/@waline/emojis@1.1.0/bilibili',
				],
				login: 'disable',
				imageUploader: false, 
				wordLimit: 200,
				requiredMeta: ['nick', 'mail'],
				reaction: true,
				reactionText: [ '点赞', '踩一下', '得意', '不屑', '尴尬', '睡觉'],
				reactionTitle: "您认为这篇文章怎么样？",
				dark: 'html[data-night="night"]',
				serverURL: "comment.qiucode.cn",
			});
		</script><script type=module async crossorigin src=/calendar/index-BJO-5hrQ.js></script></body></html>