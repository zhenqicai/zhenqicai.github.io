



<!DOCTYPE html>
<html lang="zh-CN">

<head>
<title>ç©ä»¥å¤ªåŠé“¾ä¸Šé¡¹ç›®çš„å¿…å¤‡æŠ€èƒ½ï¼ˆå‡½æ•°åŠå…¶å¯è§æ€§å’ŒçŠ¶æ€å¯å˜æ€§-Solidityä¹‹æ—…åä¸‰ï¼‰</title>
<meta name="viewport"content="width=device-width, user-scalable=no, initial-scale=1.0, shrink-to-fit=no, viewport-fit=cover">

<meta name="description" content="ç©ä»¥å¤ªåŠé“¾ä¸Šé¡¹ç›®çš„å¿…å¤‡æŠ€èƒ½ï¼ˆå‡½æ•°åŠå…¶å¯è§æ€§å’ŒçŠ¶æ€å¯å˜æ€§-Solidityä¹‹æ—…åä¸‰ï¼‰">

<meta itemprop="name" content="ç©ä»¥å¤ªåŠé“¾ä¸Šé¡¹ç›®çš„å¿…å¤‡æŠ€èƒ½ï¼ˆå‡½æ•°åŠå…¶å¯è§æ€§å’ŒçŠ¶æ€å¯å˜æ€§-Solidityä¹‹æ—…åä¸‰ï¼‰">
<meta itemprop="description" content="ç©ä»¥å¤ªåŠé“¾ä¸Šé¡¹ç›®çš„å¿…å¤‡æŠ€èƒ½ï¼ˆå‡½æ•°åŠå…¶å¯è§æ€§å’ŒçŠ¶æ€å¯å˜æ€§-Solidityä¹‹æ—…åä¸‰ï¼‰">
<meta itemprop="image" content="/img/author.jpg">


<meta name="twitter:description" content="ç©ä»¥å¤ªåŠé“¾ä¸Šé¡¹ç›®çš„å¿…å¤‡æŠ€èƒ½ï¼ˆå‡½æ•°åŠå…¶å¯è§æ€§å’ŒçŠ¶æ€å¯å˜æ€§-Solidityä¹‹æ—…åä¸‰ï¼‰" />


<link rel="alternate" href="/feed.xml" title="ç§‹ç åˆ†äº«" type="application/rss+xml"/>

<link rel="shortcut icon" href="/imgs/icons/favicon.ico"/>
<link rel="apple-touch-icon" href="/imgs/icons/apple-touch-icon.png" />
<link rel="apple-touch-icon-precomposed" href="/imgs/icons/apple-touch-icon.png" />




<style>
    @font-face {
        font-family: 'Xc Font';
        font-weight: 400;
        font-style: normal;
        font-display: swap;
        src: url('https://cdn.jsdelivr.net/gh/Xpblog666/cdn@1.0/HarmonyOS_Sans_SC_Medium.ttf');
        src: url('https://cdn.jsdelivr.net/gh/Xpblog666/cdn@1.0/HarmonyOS_Sans_SC_Medium.ttf') format('truetype');
    }

    html {
        font-family: 'Xc Font', 'PingFang SC', 'Noto Serif SC', 'HarmonyOS_Sans_SC_Medium', 'Fira Mono', 'Microsoft YaHei', Arial, sans-serif
    }

    html .Qc_header_above .Qc_container {
        max-width: 1720px
    }

    html .Qc_header_below .Qc_container {
        max-width: 1720px
    }

    html .Qc_header_searchout .Qc_container {
        max-width: 1720px
    }

    html .Qc_main {
        max-width: 980px
    }

    html .Qc_aside {
        width: 260px
    }

    body::before {
        background: #f0f0f0;
        background: ;
        background-position: center 0;
        background-repeat: no-repeat;
        background-size: cover;
    }
</style>


<link rel="stylesheet" href="/css/global.min.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/theme.min.css" />

<link rel="stylesheet" href="/css/font-awesome.min.css" />


<link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css" />







































<script type="module">
    import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
  
    init({
      el: '.waline-container',
      placeholder: "è¯·ä¸è¦åå•¬æ‚¨çš„è¯„è®º ãƒ¾(â‰§â–½â‰¦*)o",
      sofa: "ç§ï¼Œè¿™é‡Œæ²¡äººï¼Œè¿˜ä¸æŠ¢å ç¬¬ä¸€çš„ä½ç½® (â‰§âˆ€â‰¦)ã‚",
      pageview: true, 
      comment: true, 
      emoji: [
        '//unpkg.com/@waline/emojis@1.1.0/weibo',
        '//unpkg.com/@waline/emojis@1.1.0/bilibili',
      ],
      login: 'disable',
      imgUploader: false,
      wordLimit: 200,
      requiredMeta: ['nick', 'mail'],
      reaction: true,
      reactionText: [ 'ç‚¹èµ', 'è¸©ä¸€ä¸‹', 'å¾—æ„', 'ä¸å±‘', 'å°´å°¬', 'ç¡è§‰'],
      reactionTitle: "æ‚¨è®¤ä¸ºè¿™ç¯‡æ–‡ç« æ€ä¹ˆæ ·ï¼Ÿ",
      dark: 'auto', 
      serverURL: "comment.qiucode.cn",
    });
  </script>
  









 
 


  
  









    
    







                
 
    

























</head>

<body>
	<header class="Qc_header  active Qc_slid">
<div class="Qc_header_above">
    <div class="Qc_container"> 
        <svg class="Qc_header_above-slideicon" viewBox="0 0 1152 1024"
            xmlns="http://www.w3.org/2000/svg" width="20" height="20">
            <path
                d="M76.032 872a59.968 59.968 0 1 0 0 120h999.936a59.968 59.968 0 1 0 0-120H76.032zm16-420.032a59.968 59.968 0 1 0 0 120h599.936a59.968 59.968 0 1 0 0-119.936H92.032zM76.032 32a59.968 59.968 0 1 0 0 120h999.936a60.032 60.032 0 0 0 0-120H76.032z" />
        </svg> 
        <a class="Qc_header_above-logo" href="/" title="John'Blog"> 
            <img class="Qc_logo"
                src="/static/front/images/qiu-logo.png" /></a>
        <nav class="Qc_header_above_nav"> 
            
            <a class="item " href="/" title="é¦–é¡µ" style="margin-right:8px">
                <i class="fa fa-home"></i> é¦–é¡µ
            </a>
           
            <a class="item " href="/flinks" title="å‹æƒ…é“¾æ¥">
                <i class="fa fa-link"></i>å‹æƒ…é“¾æ¥
            </a> 

            

            <a class="item " href="/about" title="å…³äºæˆ‘">
                <i class="fa fa-user"></i>å…³äºæœ¬ç«™
            </a>
        </nav> 

        
        
        <svg class="Qc_header_above-searchicon" viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="display: block;">
            <path
                d="M1008.19 932.031L771.72 695.56a431.153 431.153 0 1 0-76.158 76.158l236.408 236.472a53.758 53.758 0 0 0 76.158 0 53.758 53.758 0 0 0 0-76.158zM107.807 431.185a323.637 323.637 0 0 1 323.316-323.381 323.7 323.7 0 0 1 323.381 323.38 323.637 323.637 0 0 1-323.38 323.317 323.637 323.637 0 0 1-323.317-323.316z" />
        </svg> 
        <a href="javascript:void(0)" type="button" id="ClickMe" style="margin: 0px 3px 2px 13px"><svg
                t="1675873194952" class="loingico" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="3929" width="22" height="22">
                <path
                    d="M554.666667 349.44a48.213333 48.213333 0 1 1-47.786667 47.786667A48.213333 48.213333 0 0 1 554.666667 349.44m0-85.333333a133.546667 133.546667 0 1 0 133.546666 133.12A133.12 133.12 0 0 0 554.666667 264.106667z"
                    fill="var(--routine)" p-id="3930"></path>
                <path
                    d="M768 759.893333a42.666667 42.666667 0 0 1-42.666667-42.666666 170.666667 170.666667 0 0 0-341.333333 0 42.666667 42.666667 0 0 1-85.333333 0 256 256 0 0 1 512 0 42.666667 42.666667 0 0 1-42.666667 42.666666z"
                    fill="var(--routine)" p-id="3931"></path>
                <path
                    d="M554.666667 213.333333a341.333333 341.333333 0 1 1-341.333334 341.333334 341.333333 341.333333 0 0 1 341.333334-341.333334m0-85.333333a426.666667 426.666667 0 1 0 426.666666 426.666667A426.666667 426.666667 0 0 0 554.666667 128z"
                    fill="var(--routine)" p-id="3932"></path>
            </svg> </a>
        
        
        

    </div>
</div>
<div class="Qc_header_searchout">
    <div class="Qc_container">
        <div class="Qc_header_searchout_all">
            <div class="Qc_search_inner">
                <div class="Qc_label">
                    <div class="title"> <i class="iconfont icon-A70"
                            style="margin-right: 5px;font-size: 18px;"></i> å…³é”®è¯æœç´¢ </div>
                    <form class="search" method="post" action="/"> <input maxlength="16"
                            autocomplete="off" placeholder="è¯·è¾“å…¥å…³é”®å­—..." name="s" value="" class="input"
                            type="text" /> <button type="submit" class="submit">æœç´¢</button> </form>
                    <div class="title"> <i class="iconfont icon-A67"
                            style="margin-right: 5px;font-size: 18px;"></i>æ ‡ç­¾æœç´¢</div>
                    <ul class="cloud">
                        <li class="item"><a style="background:#0396FF"
                                href="https://qiucode.cntag/%E5%A4%96%E8%B4%B8/">å¤–è´¸</a></li>
                        <li class="item"><a style="background:#0396FF"
                                href="https://qiucode.cntag/%E5%A4%96%E8%B4%B8%E5%88%86%E4%BA%AB/">å¤–è´¸åˆ†äº«</a></li>
                        <li class="item"><a style="background:#E96D71"
                                href="https://qiucode.cntag/%E5%A4%96%E8%B4%B8%E8%AF%9D%E6%9C%AF/">å¤–è´¸è¯æœ¯</a></li>
                        <li class="item"><a style="background:#FD6585"
                                href="https://qiucode.cntag/typecho/">typecho</a></li>
                        <li class="item"><a style="background:#e8583d"
                                href="https://qiucode.cntag/chatgpt/">chatgpt</a></li>
                        <li class="item"><a style="background:#FA742B"
                                href="https://qiucode.cntag/typecho%E6%8F%92%E4%BB%B6/">typechoæ’ä»¶</a></li>
                        <li class="item"><a style="background:#4C83FF"
                                href="https://qiucode.cntag/%E5%AD%97%E4%BD%93%E7%BE%8E%E5%8C%96/">å­—ä½“ç¾åŒ–</a></li>
                        <li class="item"><a style="background:#f093fb"
                                href="https://qiucode.cntag/%E5%9B%BD%E5%86%85ChatGPT/">å›½å†…ChatGPT</a></li>
                        <li class="item"><a style="background:#F072B6"
                                href="https://qiucode.cntag/openwrt/">openwrt</a></li>
                        <li class="item"><a style="background:#f68e5f"
                                href="https://qiucode.cntag/%E7%BD%91%E7%AB%99%E6%BA%90%E7%A0%81/">ç½‘ç«™æºç </a></li>
                        <li class="item"><a style="background:#e8583d"
                                href="https://qiucode.cntag/%E7%BA%A2%E7%B1%B3ax6000/">çº¢ç±³ax6000</a></li>
                        <li class="item"><a style="background:#4facfe"
                                href="https://qiucode.cntag/AI%E7%BB%98%E5%9B%BE/">AIç»˜å›¾</a></li>
                        <li class="item"><a style="background:#0396FF"
                                href="https://qiucode.cntag/GPTalk/">GPTalk</a></li>
                        <li class="item"><a style="background:#6fa3ef"
                                href="https://qiucode.cntag/AALocker/">AALocker</a></li>
                        <li class="item"><a style="background:#49C628"
                                href="https://qiucode.cntag/%E4%BC%9A%E5%91%98%E9%9B%B6%E5%85%83%E8%B4%AD/">ä¼šå‘˜é›¶å…ƒè´­</a>
                        </li>
                        <li class="item"><a style="background:#736EFE"
                                href="https://qiucode.cntag/ai%E6%95%B0%E5%AD%97%E7%BB%98%E7%94%BB/">aiæ•°å­—ç»˜ç”»</a>
                        </li>
                        <li class="item"><a style="background:#F072B6" href="https://qiucode.cntag/Ai/">Ai</a>
                        </li>
                        <li class="item"><a style="background:#465EFB"
                                href="https://qiucode.cntag/Stable-Diffusion/">Stable Diffusion</a></li>
                        <li class="item"><a style="background:#E96D71"
                                href="https://qiucode.cntag/%E5%8D%9A%E5%AE%A2/">åšå®¢</a></li>
                        <li class="item"><a style="background:#6fa3ef"
                                href="https://qiucode.cntag/win11/">win11</a></li>
                    </ul>
                    <div class="title" style="padding: 15px 0 0 0"> <i class="iconfont icon-A89"
                            style="margin-right: 5px;font-size: 18px;"></i>è¿‘æœŸæµè§ˆ</div>
                    <div id="jl_viewHistory" style="display: block"></div>
                </div>
                <div class="Qc_article">
                    <div class="title"> <i class="iconfont icon-A37"
                            style="margin-right: 5px;font-size: 18px;"></i>çƒ­é—¨æ–‡ç« </div>
                    <div class="Qc_header_search" style="position: relative;">
                        <nav class="result"> <a href="https://qiucode.cna/7/" title="æœ¬ä¸»é¢˜â€”Joeé­”æ”¹ ä¸€æ¬¾ä¸ªäººç±»å‹Typechoä¸»é¢˜"
                                class="item"> <span class="sort">1</span> <span class="text">æœ¬ä¸»é¢˜â€”Joeé­”æ”¹
                                    ä¸€æ¬¾ä¸ªäººç±»å‹Typechoä¸»é¢˜</span> <span class="views"></i>3.8k é˜…è¯»</span> </a> <a
                                href="https://qiucode.cna/28/" title="çº¢ç±³Redmi AX6000å¼€å¯å¹¶å›ºåŒ–SSHç®€å•æ–¹æ³•+åˆ·openwrtå›ºä»¶"
                                class="item"> <span class="sort">2</span> <span class="text">çº¢ç±³Redmi
                                    AX6000å¼€å¯å¹¶å›ºåŒ–SSHç®€å•æ–¹æ³•+åˆ·openwrtå›ºä»¶</span> <span class="views"></i>2.3k é˜…è¯»</span>
                            </a> <a href="https://qiucode.cna/14/"
                                title="æœ€æ–°å¯ç”¨ Typecho ä»˜è´¹é˜…è¯»æ’ä»¶ä¿®å¤ç‰ˆ-å…ç™»å½•ç‰ˆ-å…æˆæƒ-å¯¹æ¥ç¬¬ä¸‰æ–¹æ”¯ä»˜" class="item"> <span
                                    class="sort">3</span> <span class="text">æœ€æ–°å¯ç”¨ Typecho
                                    ä»˜è´¹é˜…è¯»æ’ä»¶ä¿®å¤ç‰ˆ-å…ç™»å½•ç‰ˆ-å…æˆæƒ-å¯¹æ¥ç¬¬ä¸‰æ–¹æ”¯ä»˜</span> <span class="views"></i>1.9k é˜…è¯»</span>
                            </a> <a href="https://qiucode.cna/17/" title="Typechoä¸ƒç‰›äº‘æ’ä»¶ï¼Œä¸ºæ‚¨çš„ç½‘ç«™è®¿é—®åŠ é€Ÿ" class="item">
                                <span class="sort">4</span> <span class="text">Typechoä¸ƒç‰›äº‘æ’ä»¶ï¼Œä¸ºæ‚¨çš„ç½‘ç«™è®¿é—®åŠ é€Ÿ</span>
                                <span class="views"></i>1.6k é˜…è¯»</span> </a> <a href="https://qiucode.cna/16/"
                                title="TypechoæŠ•ç¨¿åŠŸèƒ½å¼€å¯â€”â€”æ— éœ€æ’ä»¶ï¼Œä¸€è¡Œä»£ç " class="item"> <span class="sort">5</span> <span
                                    class="text">TypechoæŠ•ç¨¿åŠŸèƒ½å¼€å¯â€”â€”æ— éœ€æ’ä»¶ï¼Œä¸€è¡Œä»£ç </span> <span class="views"></i>1.4k
                                    é˜…è¯»</span> </a> <a href="https://qiucode.cna/36/"
                                title="Typechoä½¿ç”¨CDNåæ— æ³•ç™»é™†åå°è§£å†³åŠæ³•" class="item"> <span class="sort">6</span> <span
                                    class="text">Typechoä½¿ç”¨CDNåæ— æ³•ç™»é™†åå°è§£å†³åŠæ³•</span> <span class="views"></i>733
                                    é˜…è¯»</span> </a> <a href="https://qiucode.cna/1/" title="æ¬¢è¿ä½¿ç”¨ Typecho"
                                class="item"> <span class="sort">7</span> <span class="text">æ¬¢è¿ä½¿ç”¨ Typecho</span>
                                <span class="views"></i>637 é˜…è¯»</span> </a> <a href="https://qiucode.cna/26/"
                                title="åä¸ªé‡‘å¥æå®šå¤–è´¸å®¢æˆ·å·²è¯»ä¸å›âœ…" class="item"> <span class="sort">8</span> <span
                                    class="text">åä¸ªé‡‘å¥æå®šå¤–è´¸å®¢æˆ·å·²è¯»ä¸å›âœ…</span> <span class="views"></i>543 é˜…è¯»</span>
                            </a> <a href="https://qiucode.cna/24/" title="å¦‚ä½•æ”¯æŒå‘é€Emojiè¡¨æƒ…ï¼Ÿ" class="item"> <span
                                    class="sort">9</span> <span class="text">å¦‚ä½•æ”¯æŒå‘é€Emojiè¡¨æƒ…ï¼Ÿ</span> <span
                                    class="views"></i>508 é˜…è¯»</span> </a> </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="Qc_header_slideout"> 
    <img width="100%" height="150" class="Qc_header_slideout-image"
        src="https://qiucode.cnshaonv.jpg" alt="ä¾§è¾¹æ å£çº¸" />
    <div class="Qc_header_slideout-author"> <img width="50" height="50" class="avatar"
            src="https://thirdqq.qlogo.cn/g?b=qq&nk=687778&s=100" alt="åšä¸»æ˜µç§°" />
        <div class="info"> <a class="link" href="https://xx9q.com" target="_blank"
                rel="noopener noreferrer nofollow">John</a>
            <p class="motto Qc_motto"></p>
        </div>
    </div>
    <ul class="Qc_header_slideout-count"> </ul>
    <ul class="Qc_header_slideout-menu panel-box">
        <li> <a class="link" href="https://qiucode.cn" title="é¦–é¡µ"> <span><i class="iconfont icon-A131"></i>
                    é¦–é¡µ</span> </a> </li>
        <li> <a class="link panel" href="#" rel="nofollow"> <span><i class="iconfont icon-A129"></i> åˆ†ç±»</span>
                <svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="13"
                    height="13">
                    <path
                        d="M624.865 512.247L332.71 220.088c-12.28-12.27-12.28-32.186 0-44.457 12.27-12.28 32.186-12.28 44.457 0l314.388 314.388c12.28 12.27 12.28 32.186 0 44.457L377.167 848.863c-6.136 6.14-14.183 9.211-22.228 9.211s-16.092-3.071-22.228-9.211c-12.28-12.27-12.28-32.186 0-44.457l292.155-292.16z" />
                </svg> </a>
            <ul class="slides panel-body panel-box">
                <li>
                    <div class="link panel "> <a href="https://qiucode.cncategory/default/" title="æ—¥å¸¸åˆ†äº«">æ—¥å¸¸åˆ†äº«</a>
                        <svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="13"
                            height="13">
                            <path
                                d="M624.865 512.247L332.71 220.088c-12.28-12.27-12.28-32.186 0-44.457 12.27-12.28 32.186-12.28 44.457 0l314.388 314.388c12.28 12.27 12.28 32.186 0 44.457L377.167 848.863c-6.136 6.14-14.183 9.211-22.228 9.211s-16.092-3.071-22.228-9.211c-12.28-12.27-12.28-32.186 0-44.457l292.155-292.16z" />
                        </svg> </div>
                    <ul class="slides panel-body">
                        <li><a class="link " href="https://qiucode.cncategory/wmfx/" title="å¤–è´¸åˆ†äº«">å¤–è´¸åˆ†äº«</a></li>
                        <li><a class="link " href="https://qiucode.cncategory/wztj/" title="ç½‘ç«™æ¨è">ç½‘ç«™æ¨è</a></li>
                        <li><a class="link " href="https://qiucode.cncategory/yxxg/" title="æ¸¸æˆç›¸å…³">æ¸¸æˆç›¸å…³</a></li>
                    </ul>
                </li>
                <li><a class="link " href="https://qiucode.cncategory/xitong/" title="ç³»ç»Ÿç›¸å…³">ç³»ç»Ÿç›¸å…³</a></li>
                <li>
                    <div class="link panel "> <a href="https://qiucode.cncategory/wangzhan/"
                            title="ç½‘ç«™æ–‡æ¡£">ç½‘ç«™æ–‡æ¡£</a> <svg class="icon" viewBox="0 0 1024 1024"
                            xmlns="http://www.w3.org/2000/svg" width="13" height="13">
                            <path
                                d="M624.865 512.247L332.71 220.088c-12.28-12.27-12.28-32.186 0-44.457 12.27-12.28 32.186-12.28 44.457 0l314.388 314.388c12.28 12.27 12.28 32.186 0 44.457L377.167 848.863c-6.136 6.14-14.183 9.211-22.228 9.211s-16.092-3.071-22.228-9.211c-12.28-12.27-12.28-32.186 0-44.457l292.155-292.16z" />
                        </svg> </div>
                    <ul class="slides panel-body">
                        <li><a class="link " href="https://qiucode.cncategory/bkfx/" title="åšå®¢åˆ†äº«">åšå®¢åˆ†äº«</a></li>
                        <li><a class="link " href="https://qiucode.cncategory/wzym/" title="ç½‘ç«™æºç ">ç½‘ç«™æºç </a></li>
                    </ul>
                </li>
                <li>
                    <div class="link panel "> <a href="https://qiucode.cncategory/ruanjian/"
                            title="è½¯ä»¶åˆ†äº«">è½¯ä»¶åˆ†äº«</a> <svg class="icon" viewBox="0 0 1024 1024"
                            xmlns="http://www.w3.org/2000/svg" width="13" height="13">
                            <path
                                d="M624.865 512.247L332.71 220.088c-12.28-12.27-12.28-32.186 0-44.457 12.27-12.28 32.186-12.28 44.457 0l314.388 314.388c12.28 12.27 12.28 32.186 0 44.457L377.167 848.863c-6.136 6.14-14.183 9.211-22.228 9.211s-16.092-3.071-22.228-9.211c-12.28-12.27-12.28-32.186 0-44.457l292.155-292.16z" />
                        </svg> </div>
                    <ul class="slides panel-body">
                        <li><a class="link " href="https://qiucode.cncategory/sjrj/" title="ğŸ“±æ‰‹æœºè½¯ä»¶">ğŸ“±æ‰‹æœºè½¯ä»¶</a>
                        </li>
                        <li><a class="link " href="https://qiucode.cncategory/dnrj/" title="ğŸ’»ç”µè„‘è½¯ä»¶">ğŸ’»ç”µè„‘è½¯ä»¶</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li> <a class="link panel" href="#" rel="nofollow"> <span><i class="iconfont icon-A3"></i> é¡µé¢</span>
                <svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="13"
                    height="13">
                    <path
                        d="M624.865 512.247L332.71 220.088c-12.28-12.27-12.28-32.186 0-44.457 12.27-12.28 32.186-12.28 44.457 0l314.388 314.388c12.28 12.27 12.28 32.186 0 44.457L377.167 848.863c-6.136 6.14-14.183 9.211-22.228 9.211s-16.092-3.071-22.228-9.211c-12.28-12.27-12.28-32.186 0-44.457l292.155-292.16z" />
                </svg> </a>
            <ul class="slides panel-body">
                <li><a class="link " href="https://qiucode.cnsn.html" title="æˆ‘çš„è®°å½•">æˆ‘çš„è®°å½•</a></li>
                <li><a class="link " href="https://qiucode.cnyoulian.html" title="å‹æƒ…é“¾æ¥">å‹æƒ…é“¾æ¥</a></li>
                <li><a class="link " href="https://qiucode.cnsite.html" title="ç«™ç‚¹ç»Ÿè®¡">ç«™ç‚¹ç»Ÿè®¡</a></li>
                <li><a class="link " href="https://qiucode.cnAboutme.html" title="å…³äºæˆ‘">å…³äºæˆ‘</a></li>
            </ul>
        </li>
    </ul>
    <ul class="Qc_header_slideout-menu panel-box" style="margin-top: 15px;margin-bottom: 100px;">
        <li> <a class="link panel" href="#" rel="nofollow"> <span><i class="iconfont icon-A17"></i> ç”¨æˆ·ç™»å½•</span>
                <svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="13"
                    height="13">
                    <path
                        d="M624.865 512.247L332.71 220.088c-12.28-12.27-12.28-32.186 0-44.457 12.27-12.28 32.186-12.28 44.457 0l314.388 314.388c12.28 12.27 12.28 32.186 0 44.457L377.167 848.863c-6.136 6.14-14.183 9.211-22.228 9.211s-16.092-3.071-22.228-9.211c-12.28-12.27-12.28-32.186 0-44.457l292.155-292.16z">
                    </path>
                </svg> </a>
            <ul class="slides panel-body">
                <li> <a class="link" href="https://qiucode.cnadmin/login.php" target="_blank"
                        rel="noopener noreferrer nofollow">ç™»å½•</a> <a class="link"
                        href="https://qiucode.cnadmin/register.php" target="_blank"
                        rel="noopener noreferrer nofollow">æ³¨å†Œ</a> </li>
            </ul>
        </li>
    </ul>
</div>
<div class="Qc_header_mask"></div>

<script>

    let sideBtn = document.querySelector(".Qc_header_above .Qc_container .Qc_header_above-slideicon")

    sideBtn.addEventListener("click", () => {
        document.querySelector(".Qc_header_slideout").classList.add("active")
        document.querySelector(".Qc_header_mask").classList.add("active")
    })

    let maskBtn = document.querySelector(".Qc_header_mask")

    maskBtn.addEventListener("click",() => {
        document.querySelector(".Qc_header_slideout").classList.remove("active")
        maskBtn.classList.remove("active")
    })

   
    

</script></header>
	
		
	<div class="Qc_container showInUp">



<div class="Qc_main Qc_post">
    <div class="Qc_detail">
        <h1 class="title Qc_psot_title"> ç©ä»¥å¤ªåŠé“¾ä¸Šé¡¹ç›®çš„å¿…å¤‡æŠ€èƒ½ï¼ˆå‡½æ•°åŠå…¶å¯è§æ€§å’ŒçŠ¶æ€å¯å˜æ€§-Solidityä¹‹æ—…åä¸‰ï¼‰</h1>
        <div class="Qc_bread">
            <ul class="Qc_bread_bread">
                <li class="item"> <span class="iconfont icon-A131" style="margin-right: 4px;"></span> <a
                        href="https://qiucode.cn" class="link" title="é¦–é¡µ">é¦–é¡µ</a> </li>
                <li class="line">/</li>
                <li class="item"> <a class="link" href="https://qiucode.cncategory/bkfx/" title="åšå®¢åˆ†äº«">åšå®¢åˆ†äº«</a>
                </li>
                <li class="line">/</li>
                <li class="item">æ­£æ–‡</li>
            </ul>
        </div>
        <div class="Qc_detail_category"> </div>
        <article class="Qc_detail_article" id="article-container">
            <p>å¯¹äº public çŠ¶æ€å˜é‡ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªï¼Œä¸çŠ¶æ€å˜é‡åŒåçš„ <code>public</code>ä¿®é¥°çš„å‡½æ•°ã€‚ ä»¥ä¾¿å…¶ä»–çš„åˆçº¦è¯»å–ä»–ä»¬çš„å€¼ã€‚ å½“åœ¨ç”¨ä¸€ä¸ªåˆçº¦é‡Œä½¿ç”¨æ˜¯ï¼Œå¤–éƒ¨æ–¹å¼è®¿é—® (å¦‚: <code>this.x</code>) ä¼šè°ƒç”¨è¯¥è‡ªåŠ¨ç”Ÿæˆçš„åŒåå‡½æ•°ï¼Œè€Œå†…éƒ¨æ–¹å¼è®¿é—® (å¦‚: <code>x</code>) ä¼šç›´æ¥ä»å­˜å‚¨ä¸­è·å–å€¼ã€‚ Setterå‡½æ•°åˆ™ä¸ä¼šè¢«ç”Ÿæˆï¼Œæ‰€ä»¥å…¶ä»–åˆçº¦</p>
<h3 id="çŠ¶æ€å˜é‡å¯è§æ€§">çŠ¶æ€å˜é‡å¯è§æ€§</h3>
<p>åœ¨è¿™ä¹‹å‰çš„æ–‡ç« é‡Œï¼Œç»™å‡ºçš„ä¾‹å­ä¸­ï¼Œå£°æ˜çš„<code>çŠ¶æ€å˜é‡</code>éƒ½ä¿®é¥°ä¸º<code>public</code>ï¼Œå› ä¸ºæˆ‘ä»¬å°†<code>çŠ¶æ€å˜é‡</code>å£°æ˜ä¸º<code>public</code>åï¼ŒSolidity ç¼–è¯‘å™¨è‡ªåŠ¨ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªä¸<code>çŠ¶æ€å˜é‡</code>åŒåçš„ã€ä¸”<code>å‡½æ•°å¯è§æ€§</code>ä¸º<code>public</code>çš„å‡½æ•°ï¼</p>
<p>åœ¨ Solidity ä¸­ï¼Œé™¤äº†å¯ä»¥å°†<code>çŠ¶æ€å˜é‡</code>ä¿®é¥°ä¸º<code>public</code>ï¼Œè¿˜å¯ä»¥ä¿®é¥°ä¸ºå¦å¤–ä¸¤ç§ï¼š<code>internal</code>ã€<code>private</code>ã€‚</p>
<ul>
<li>
<p>public</p>
<p>å¯¹äº public çŠ¶æ€å˜é‡ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªï¼Œä¸çŠ¶æ€å˜é‡åŒåçš„ <code>public</code>ä¿®é¥°çš„å‡½æ•°ã€‚ ä»¥ä¾¿å…¶ä»–çš„åˆçº¦è¯»å–ä»–ä»¬çš„å€¼ã€‚ å½“åœ¨ç”¨ä¸€ä¸ªåˆçº¦é‡Œä½¿ç”¨æ˜¯ï¼Œå¤–éƒ¨æ–¹å¼è®¿é—® (å¦‚: <code>this.x</code>) ä¼šè°ƒç”¨è¯¥è‡ªåŠ¨ç”Ÿæˆçš„åŒåå‡½æ•°ï¼Œè€Œå†…éƒ¨æ–¹å¼è®¿é—® (å¦‚: <code>x</code>) ä¼šç›´æ¥ä»å­˜å‚¨ä¸­è·å–å€¼ã€‚ Setterå‡½æ•°åˆ™ä¸ä¼šè¢«ç”Ÿæˆï¼Œæ‰€ä»¥å…¶ä»–åˆçº¦ä¸èƒ½ç›´æ¥ä¿®æ”¹å…¶å€¼ã€‚</p>
</li>
<li>
<p>internal</p>
<p>å†…éƒ¨å¯è§æ€§çŠ¶æ€å˜é‡åªèƒ½åœ¨å®ƒä»¬æ‰€å®šä¹‰çš„åˆçº¦å’Œæ´¾ç”ŸåˆåŒä¸­è®¿é—®ï¼Œ å®ƒä»¬ä¸èƒ½è¢«å¤–éƒ¨è®¿é—®ã€‚ è¿™æ˜¯çŠ¶æ€å˜é‡çš„é»˜è®¤å¯è§æ€§ã€‚</p>
</li>
<li>
<p>private</p>
<p>ç§æœ‰çŠ¶æ€å˜é‡å°±åƒå†…éƒ¨å˜é‡ä¸€æ ·ï¼Œä½†å®ƒä»¬åœ¨æ´¾ç”Ÿåˆçº¦ä¸­æ˜¯ä¸å¯è§çš„ã€‚</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">stateVarsVisible</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">uint</span> <span style="color:#66d9ef">public</span> num;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">showNum</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      num <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> num;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">outsideCall</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myCall</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//å®ä¾‹åŒ–åˆçº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      stateVarsVisible sv <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> stateVarsVisible();
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//è°ƒç”¨ getter å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">return</span> sv.num();
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671451979681.png" alt="img"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">stateVarsVisible</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">uint</span> <span style="color:#66d9ef">internal</span> num;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">showNum</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      num <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> num;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn</span>() <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> num;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">sub</span> <span style="color:#66d9ef">is</span> stateVarsVisible {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myNum</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> stateVarsVisible.num;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">outsideCall</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myCall</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//å®ä¾‹åŒ–åˆçº¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      stateVarsVisible sv <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> stateVarsVisible();
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//å¤–éƒ¨åˆçº¦ ä¸èƒ½è®¿é—®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">//return sv.num();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452006348.png" alt="img"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">stateVarsVisible</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">uint</span> <span style="color:#66d9ef">private</span> num;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">showNum</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      num <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> num;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn</span>() <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> num;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">sub</span> <span style="color:#66d9ef">is</span> stateVarsVisible {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myNum</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">//æ´¾ç”Ÿåˆçº¦ æ— æ³•è®¿é—® åŸºåˆçº¦ çš„çŠ¶æ€å˜é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">return</span> stateVarsVisible.num;
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452033601.png" alt="img"></p>
<h3 id="å‡½æ•°å¯è§æ€§">å‡½æ•°å¯è§æ€§</h3>
<p>å‰é¢çš„æ–‡ç« ï¼Œæˆ‘ä»¬å¤šå¤šå°‘å°‘æœ‰è§åˆ°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨åçš„ä¸€äº›å…³é”®å­—ï¼Œé‚£ä¾¿æ˜¯<code>å‡½æ•°å¯è§æ€§</code>ä¿®é¥°ç¬¦ã€‚å¯¹äº<code>å‡½æ•°å¯è§æ€§</code>è¿™ä¸€æ¦‚å¿µï¼Œæœ‰è¿‡ç°ä»£ç¼–ç¨‹è¯­è¨€çš„ç»å†å¤§éƒ½çŸ¥æ™“ï¼Œè¯¸å¦‚ï¼Œ<code>publicï¼ˆå…¬å¼€çš„ï¼‰</code>ã€<code>privateï¼ˆç§æœ‰çš„ï¼‰</code>ã€<code>protectedï¼ˆå—ä¿æŠ¤çš„ï¼‰</code>ç”¨æ¥ä¿®é¥°å‡½æ•°çš„å¯è§æ€§ï¼Œ<code>Java</code>ã€PHP`ç­‰ä¾¿æ˜¯ä½¿ç”¨è¿™äº›å…³é”®å­—æ¥ä¿®é¥°å‡½æ•°çš„å¯è§æ€§ã€‚</p>
<p>å½“ç„¶å’¯ï¼ŒSolidity å‡½æ•°å¯¹å¤–å¯è®¿é—®ä¹Ÿåšäº†ä¿®é¥°ï¼Œåˆ†ä¸ºä»¥ä¸‹ 4 ç§å¯è§æ€§ï¼š</p>
<ul>
<li>external</li>
</ul>
<p>å¤–éƒ¨å¯è§æ€§å‡½æ•°ä½œä¸ºåˆçº¦æ¥å£çš„ä¸€éƒ¨åˆ†ï¼Œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä»å…¶ä»–åˆçº¦å’Œäº¤æ˜“ä¸­è°ƒç”¨ã€‚ ä¸€ä¸ªå¤–éƒ¨å‡½æ•° <code>f</code> ä¸èƒ½ä»å†…éƒ¨è°ƒç”¨ï¼ˆå³ <code>f</code> ä¸èµ·ä½œç”¨ï¼Œä½† <code>this.f()</code> å¯ä»¥ï¼‰ã€‚</p>
<ul>
<li>public</li>
</ul>
<p>public å‡½æ•°æ˜¯åˆçº¦æ¥å£çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨å†…éƒ¨æˆ–é€šè¿‡æ¶ˆæ¯è°ƒç”¨ã€‚</p>
<ul>
<li>internal</li>
</ul>
<p>å†…éƒ¨å¯è§æ€§å‡½æ•°è®¿é—®å¯ä»¥åœ¨å½“å‰åˆçº¦æˆ–æ´¾ç”Ÿçš„åˆçº¦è®¿é—®ï¼Œå¤–éƒ¨ä¸å¯ä»¥è®¿é—®ã€‚ ç”±äºå®ƒä»¬æ²¡æœ‰é€šè¿‡åˆçº¦çš„ABIå‘å¤–éƒ¨å…¬å¼€ï¼Œå®ƒä»¬å¯ä»¥æ¥å—å†…éƒ¨å¯è§æ€§ç±»å‹çš„å‚æ•°ï¼šæ¯”å¦‚æ˜ å°„æˆ–å­˜å‚¨å¼•ç”¨ã€‚</p>
<ul>
<li>private</li>
</ul>
<p>private å‡½æ•°å’ŒçŠ¶æ€å˜é‡ä»…åœ¨å½“å‰å®šä¹‰å®ƒä»¬çš„åˆçº¦ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”ä¸èƒ½è¢«æ´¾ç”Ÿåˆçº¦ä½¿ç”¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">FunctionVisible</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">uint</span> <span style="color:#66d9ef">private</span> num;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">privateFn</span>(<span style="color:#66d9ef">uint</span> x) <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span> y){ y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span>; }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setNum</span>(<span style="color:#66d9ef">uint</span> x) <span style="color:#66d9ef">public</span> { num <span style="color:#f92672">=</span> x;}
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getNum</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){ <span style="color:#66d9ef">return</span> num; }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sum</span>(<span style="color:#66d9ef">uint</span> x,<span style="color:#66d9ef">uint</span> y) <span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>) { <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> y; }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">showPri</span>(<span style="color:#66d9ef">uint</span> x) <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){ x <span style="color:#f92672">+=</span> num; <span style="color:#66d9ef">return</span> privateFn(x); }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Outside</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myCall</span>() <span style="color:#66d9ef">public</span> {
</span></span><span style="display:flex;"><span>      FunctionVisible fv <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FunctionVisible();
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">uint</span> res <span style="color:#f92672">=</span> fv.privateFn(<span style="color:#ae81ff">7</span>); <span style="color:#75715e">// é”™è¯¯ï¼šprivateFn å‡½æ•°æ˜¯ç§æœ‰çš„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      fv.setNum(<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>      res <span style="color:#f92672">=</span> fv.getNum();
</span></span><span style="display:flex;"><span>      res <span style="color:#f92672">=</span> fv.sum(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>); <span style="color:#75715e">// é”™è¯¯ï¼šsum å‡½æ•°æ˜¯ å†…éƒ¨çš„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452065788.png" alt="img"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">FunctionVisible</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">uint</span> <span style="color:#66d9ef">private</span> num;
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">privateFn</span>(<span style="color:#66d9ef">uint</span> x) <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span> y){ y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> num; }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">setNum</span>(<span style="color:#66d9ef">uint</span> x) <span style="color:#66d9ef">public</span> { num <span style="color:#f92672">=</span> x;}
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getNum</span>() <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){ <span style="color:#66d9ef">return</span> num; }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sum</span>(<span style="color:#66d9ef">uint</span> x,<span style="color:#66d9ef">uint</span> y) <span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">pure</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>) { <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> y; }
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">showPri</span>(<span style="color:#66d9ef">uint</span> x) <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>){ x <span style="color:#f92672">+=</span> num; <span style="color:#66d9ef">return</span> privateFn(x); }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Sub</span> <span style="color:#66d9ef">is</span> FunctionVisible {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myTest</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">pure</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">uint</span> val <span style="color:#f92672">=</span> sum(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>); <span style="color:#75715e">// è®¿é—®å†…éƒ¨æˆå‘˜ï¼ˆä»ç»§æ‰¿åˆçº¦è®¿é—®çˆ¶åˆçº¦æˆå‘˜ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        val <span style="color:#f92672">=</span> privateFn(<span style="color:#ae81ff">6</span>);  <span style="color:#75715e">//privateFnå‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œå³ä¾¿æ˜¯æ´¾ç”Ÿåˆçº¦ä¹Ÿä¸èƒ½è®¿é—®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> val;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452096134.png" alt="img"></p>
<p>getter å‡½æ•°å…·æœ‰å¤–éƒ¨ï¼ˆexternalï¼‰å¯è§æ€§ã€‚å¦‚æœåœ¨å†…éƒ¨è®¿é—® getterï¼ˆå³æ²¡æœ‰ <code>this.</code> ï¼‰ï¼Œå®ƒè¢«è®¤ä¸ºä¸€ä¸ªçŠ¶æ€å˜é‡ã€‚ å¦‚æœä½¿ç”¨å¤–éƒ¨è®¿é—®ï¼ˆå³ç”¨ <code>this.</code> ï¼‰ï¼Œå®ƒè¢«è®¤ä½œä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">C</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint</span> <span style="color:#66d9ef">public</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">x</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span>(<span style="color:#66d9ef">uint</span>) {
</span></span><span style="display:flex;"><span>        data <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>; <span style="color:#75715e">// å†…éƒ¨è®¿é—®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">uint</span> val <span style="color:#f92672">=</span> this.data(); <span style="color:#75715e">// å¤–éƒ¨è®¿é—®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> val;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452145713.png" alt="img"></p>
<p>å¦‚æœä½ æœ‰ä¸€ä¸ªæ•°ç»„ç±»å‹çš„ <code>public</code> çŠ¶æ€å˜é‡ï¼Œé‚£ä¹ˆä½ åªèƒ½é€šè¿‡ç”Ÿæˆçš„ getter å‡½æ•°è®¿é—®æ•°ç»„çš„å•ä¸ªå…ƒç´ ã€‚ è¿™ä¸ªæœºåˆ¶ä»¥é¿å…è¿”å›æ•´ä¸ªæ•°ç»„æ—¶çš„é«˜æˆæœ¬gasã€‚ å¯ä»¥ä½¿ç”¨å¦‚ <code>myArray(0)</code> ç”¨äºæŒ‡å®šå‚æ•°è¦è¿”å›çš„å•ä¸ªå…ƒç´ ã€‚ å¦‚æœè¦åœ¨ä¸€æ¬¡è°ƒç”¨ä¸­è¿”å›æ•´ä¸ªæ•°ç»„ï¼Œåˆ™éœ€è¦å†™ä¸€ä¸ªå‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">C</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">uint</span>[] <span style="color:#66d9ef">public</span> myArray;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// è‡ªåŠ¨ç”Ÿæˆçš„Getter å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  function myArray(uint i) public view returns (uint) {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      return myArray[i];
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// è¿”å›æ•´ä¸ªæ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getArray</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint</span>[] <span style="color:#66d9ef">memory</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> myArray;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452180677.png" alt="img"></p>
<h3 id="åˆçº¦ä¹‹å¤–çš„å‡½æ•°">åˆçº¦ä¹‹å¤–çš„å‡½æ•°</h3>
<p>åœ¨ Solidity 0.7.0 ç‰ˆæœ¬ä¹‹åï¼Œä¾¿å¯ä»¥å°†å‡½æ•°å®šä¹‰åœ¨åˆçº¦ä¹‹å¤–ï¼Œæˆ‘ä»¬ç§°è¿™ç§å‡½æ•°ä¸º<code>&quot;è‡ªç”±å‡½æ•°&quot;</code>ï¼Œå…¶å‡½æ•°å¯è§æ€§å§‹ç»ˆéšå¼åœ°ä¸º<code>internal</code>ï¼Œå®ƒä»¬çš„ä»£ç åŒ…å«åœ¨æ‰€æœ‰è°ƒç”¨å®ƒä»¬çš„åˆçº¦ä¸­ï¼Œç±»ä¼¼äºåç»­ä¼šè®²åˆ°çš„<code>åº“</code>å‡½æ•°ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sum</span>(<span style="color:#66d9ef">uint</span>[] <span style="color:#66d9ef">memory</span> arr) <span style="color:#66d9ef">pure</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint</span> s) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> arr.length; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        s <span style="color:#f92672">+=</span> arr[i];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">ArrayExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> found;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>(<span style="color:#66d9ef">uint</span>[] <span style="color:#66d9ef">memory</span> arr) <span style="color:#66d9ef">public</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//ç¼–è¯‘å™¨ä¼šå°† åˆçº¦å¤–å‡½æ•°çš„ä»£ç æ·»åŠ åˆ°è¿™é‡Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">uint</span> s <span style="color:#f92672">=</span> sum(arr);
</span></span><span style="display:flex;"><span>        require(s <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">10</span>); <span style="color:#75715e">//åç»­ä¼šè®²åˆ°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        found <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452223427.png" alt="img"></p>
<p>åœ¨åˆçº¦ä¹‹å¤–å®šä¹‰çš„å‡½æ•°ä»ç„¶åœ¨åˆçº¦çš„ä¸Šä¸‹æ–‡å†…æ‰§è¡Œã€‚ å®ƒä»¬ä»ç„¶å¯ä»¥è°ƒç”¨å…¶ä»–åˆçº¦ï¼Œå°†å…¶å‘é€ä»¥å¤ªå¸æˆ–é”€æ¯è°ƒç”¨å®ƒä»¬çš„åˆçº¦ç­‰å…¶ä»–äº‹æƒ…ã€‚ ä¸åœ¨åˆçº¦ä¸­å®šä¹‰çš„å‡½æ•°çš„ä¸»è¦åŒºåˆ«ä¸ºï¼šè‡ªç”±å‡½æ•°ä¸èƒ½ç›´æ¥è®¿é—®å­˜å‚¨å˜é‡ <code>this</code> ã€å­˜å‚¨å’Œä¸åœ¨ä»–ä»¬çš„ä½œç”¨åŸŸèŒƒå›´å†…å‡½æ•°ã€‚</p>
<h3 id="å‡½æ•°å‚æ•°ä¸è¿”å›å€¼">å‡½æ•°å‚æ•°ä¸è¿”å›å€¼</h3>
<p>ä¸å…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œå‡½æ•°å¯èƒ½æ¥å—å‚æ•°ä½œä¸ºè¾“å…¥ã€‚ä½† Solidity å’Œ golang ä¸€æ ·ï¼Œå‡½æ•°å¯ä»¥è¿”å›ä»»æ„æ•°é‡çš„å€¼ä½œä¸ºè¾“å‡ºã€‚</p>
<h4 id="1å‡½æ•°å…¥å‚">1ã€å‡½æ•°å…¥å‚</h4>
<p>å‡½æ•°çš„å‚æ•°å˜é‡è¿™ä¸€ç‚¹å€’æ˜¯ä¸å£°æ˜å˜é‡æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœæœªèƒ½ä½¿ç”¨åˆ°çš„å‚æ•°å¯ä»¥çœç•¥å‚æ•°åã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Simple</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint</span> sum;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">taker</span>(<span style="color:#66d9ef">uint</span> a, <span style="color:#66d9ef">uint</span> b) <span style="color:#66d9ef">public</span> {
</span></span><span style="display:flex;"><span>        sum <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452296589.png" alt="img"></p>
<h4 id="2è¿”å›å€¼">2ã€è¿”å›å€¼</h4>
<p>Solidity å‡½æ•°è¿”å›å€¼ä¸ golang å‡½æ•°è¿”å›å¾ˆç±»ä¼¼ï¼Œåªä¸è¿‡ï¼ŒSolidity ä½¿ç”¨<code>returns</code>å…³é”®å­—å°†è¿”å›å‚æ•°å£°æ˜åœ¨å°æ‹¬å·å†…ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Simple</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">arithmetic</span>(<span style="color:#66d9ef">uint</span> a, <span style="color:#66d9ef">uint</span> b) <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">pure</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint</span> sum, <span style="color:#66d9ef">uint</span> product)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sum <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b;
</span></span><span style="display:flex;"><span>        product <span style="color:#f92672">=</span> a <span style="color:#f92672">*</span> b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿”å›å˜é‡åå¯ä»¥è¢«çœç•¥ã€‚ è¿”å›å˜é‡å¯ä»¥å½“ä½œä¸ºå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼Œæ²¡æœ‰æ˜¾å¼è®¾ç½®çš„è¯ï¼Œä¼šä½¿ç”¨ :ref:<code>é»˜è®¤å€¼ &lt;default-value&gt;</code> è¿”å›å˜é‡å¯ä»¥æ˜¾å¼ç»™å®ƒé™„ä¸€ä¸ªå€¼(åƒä¸Šé¢)ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>return</code> è¯­å¥æŒ‡å®šï¼Œä½¿ç”¨ <code>return</code> è¯­å¥å¯ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Simple</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">arithmetic</span>(<span style="color:#66d9ef">uint</span> a, <span style="color:#66d9ef">uint</span> b)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">pure</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint</span> , <span style="color:#66d9ef">uint</span> )
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (a <span style="color:#f92672">+</span> b, a <span style="color:#f92672">*</span> b);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="çŠ¶æ€å¯å˜æ€§">çŠ¶æ€å¯å˜æ€§</h3>
<h4 id="view">view</h4>
<p>æˆ‘ä»¬åœ¨å…ˆå‰çš„æ–‡ç« ä¼šçœ‹åˆ°ï¼Œæœ‰äº›å‡½æ•°åœ¨ä¿®é¥°ä¸º<code>public</code>åï¼Œæœ‰å¤šäº†<code>view</code>ä¿®é¥°çš„ã€‚è€Œå‡½æ•°ä½¿ç”¨äº†<code>view</code>ä¿®é¥°ï¼Œè¯´æ˜è¿™ä¸ªå‡½æ•°ä¸èƒ½ä¿®æ”¹<code>çŠ¶æ€å˜é‡ï¼ˆState Variableï¼‰</code>ï¼Œåªèƒ½è·å–çŠ¶æ€å˜é‡çš„å€¼ï¼Œç”±äº<code>view</code>ä¿®é¥°çš„å‡½æ•°ä¸èƒ½ä¿®æ”¹<code>å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šçš„çŠ¶æ€å˜é‡</code>ï¼Œè¿™ç§å‡½æ•°çš„<code>gas fee</code>ä¸ä¼šå¾ˆé«˜ï¼Œæ¯•ç«Ÿè°ƒç”¨å‡½æ•°ä¹Ÿä¼šæ¶ˆè€—<code>gas fee</code>ã€‚</p>
<p>è€Œä»¥ä¸‹æƒ…å†µè¢«è®¤ä¸ºæ˜¯ä¿®æ”¹çŠ¶æ€çš„ï¼š</p>
<ol>
<li>ä¿®æ”¹çŠ¶æ€å˜é‡ã€‚</li>
<li>äº§ç”Ÿäº‹ä»¶ã€‚</li>
<li>åˆ›å»ºå…¶å®ƒåˆçº¦ã€‚</li>
<li>ä½¿ç”¨ <code>selfdestruct</code>ã€‚</li>
<li>é€šè¿‡è°ƒç”¨å‘é€ä»¥å¤ªå¸ã€‚</li>
<li>è°ƒç”¨ä»»ä½•æ²¡æœ‰æ ‡è®°ä¸º <code>view</code> æˆ–è€… <code>pure</code> çš„å‡½æ•°ã€‚</li>
<li>ä½¿ç”¨ä½çº§è°ƒç”¨ã€‚</li>
<li>ä½¿ç”¨åŒ…å«ç‰¹å®šæ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Simple</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>(<span style="color:#66d9ef">uint</span> a, <span style="color:#66d9ef">uint</span> b) <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> (b <span style="color:#f92672">+</span> <span style="color:#ae81ff">42</span>) <span style="color:#f92672">+</span> block.timestamp;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452344930.png" alt="img"></p>
<p>Solidity 0.5.0 ç§»é™¤äº† <code>view</code>çš„åˆ«å<code>constant</code>ã€‚</p>
<p>Getter æ–¹æ³•è‡ªåŠ¨è¢«æ ‡è®°ä¸º <code>view</code></p>
<h4 id="pure">pure</h4>
<p>è‹¥å°†å‡½æ•°å£°æ˜ä¸º<code>pure</code>çš„è¯ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°æ˜¯æ—¢ä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½ä¿®æ”¹<code>çŠ¶æ€å˜é‡ï¼ˆState Variableï¼‰</code>ã€‚</p>
<p>é™¤äº†ä¸Šé¢è§£é‡Šçš„çŠ¶æ€ä¿®æ”¹è¯­å¥åˆ—è¡¨ä¹‹å¤–ï¼Œä»¥ä¸‹è¢«è®¤ä¸ºæ˜¯è¯»å–çŠ¶æ€ï¼š</p>
<ol>
<li>è¯»å–çŠ¶æ€å˜é‡ã€‚</li>
<li>è®¿é—® <code>address(this).balance</code> æˆ–è€… <code>&lt;address&gt;.balance</code>ã€‚</li>
<li>è®¿é—® <code>block</code>ï¼Œ<code>tx</code>ï¼Œ <code>msg</code> ä¸­ä»»æ„æˆå‘˜ ï¼ˆé™¤ <code>msg.sig</code> å’Œ <code>msg.data</code> ä¹‹å¤–ï¼‰ã€‚</li>
<li>è°ƒç”¨ä»»ä½•æœªæ ‡è®°ä¸º <code>pure</code> çš„å‡½æ•°ã€‚</li>
<li>ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Simple</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>(<span style="color:#66d9ef">uint</span> a, <span style="color:#66d9ef">uint</span> b) <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">pure</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> (b <span style="color:#f92672">+</span> <span style="color:#ae81ff">42</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452377161.png" alt="img"></p>
<h3 id="ç‰¹åˆ«çš„å‡½æ•°">ç‰¹åˆ«çš„å‡½æ•°</h3>
<h4 id="receive-æ¥æ”¶ä»¥å¤ªå‡½æ•°">receive æ¥æ”¶ä»¥å¤ªå‡½æ•°</h4>
<p>ä¸€ä¸ªåˆçº¦æœ€å¤šæœ‰ä¸€ä¸ª <code>receive</code> å‡½æ•°, å£°æ˜å‡½æ•°ä¸ºï¼š <code>receive() external payable { ... }</code></p>
<p>ä¸éœ€è¦ <code>function</code> å…³é”®å­—ï¼Œä¹Ÿæ²¡æœ‰å‚æ•°å’Œè¿”å›å€¼å¹¶ä¸”å¿…é¡»æ˜¯ã€€<code>external</code>ã€€å¯è§æ€§å’Œã€€<code>payable</code> ä¿®é¥°ï¼ å®ƒå¯ä»¥æ˜¯ <code>virtual</code> çš„ï¼Œå¯ä»¥è¢«é‡è½½ä¹Ÿå¯ä»¥æœ‰ åç»­ä¼šè®²åˆ°çš„ ä¿®æ”¹å™¨modifier ã€‚</p>
<p>åœ¨å¯¹åˆçº¦æ²¡æœ‰ä»»ä½•é™„åŠ æ•°æ®è°ƒç”¨ï¼ˆé€šå¸¸æ˜¯å¯¹åˆçº¦è½¬è´¦ï¼‰æ˜¯ä¼šæ‰§è¡Œ <code>receive</code> å‡½æ•°ï¼ã€€ä¾‹å¦‚ã€€é€šè¿‡ <code>.send()</code> æˆ– <code>.transfer()</code>ï¼Œ å¦‚æœ <code>receive</code> å‡½æ•°ä¸å­˜åœ¨ï¼Œã€€ä½†æ˜¯æœ‰ payableã€€çš„ æ¥ä¸‹æ¥ä¼šè®²åˆ°çš„ <code>fallback å›é€€å‡½æ•°</code> é‚£ä¹ˆåœ¨è¿›è¡Œçº¯ä»¥å¤ªè½¬è´¦æ—¶ï¼Œ<code>fallback å‡½æ•°</code>ä¼šè°ƒç”¨ï¼</p>
<p>å¦‚æœä¸¤ä¸ªå‡½æ•°éƒ½æ²¡æœ‰ï¼Œè¿™ä¸ªåˆçº¦å°±æ²¡æ³•é€šè¿‡å¸¸è§„çš„è½¬è´¦äº¤æ˜“æ¥æ”¶ä»¥å¤ªï¼ˆä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼</p>
<p>æ›´ç³Ÿçš„æ˜¯ï¼Œ<code>receive</code> å‡½æ•°å¯èƒ½åªæœ‰ 2300 gas å¯ä»¥ä½¿ç”¨ï¼ˆå¦‚ï¼Œå½“ä½¿ç”¨ <code>send</code> æˆ– <code>transfer</code> æ—¶ï¼‰ï¼Œ é™¤äº†åŸºç¡€çš„æ—¥å¿—è¾“å‡ºä¹‹å¤–ï¼Œè¿›è¡Œå…¶ä»–æ“ä½œçš„ä½™åœ°å¾ˆå°ã€‚ä¸‹é¢çš„æ“ä½œæ¶ˆè€—ä¼šæ“ä½œ 2300 gas :</p>
<ul>
<li>å†™å…¥å­˜å‚¨</li>
<li>åˆ›å»ºåˆçº¦</li>
<li>è°ƒç”¨æ¶ˆè€—å¤§é‡ gas çš„å¤–éƒ¨å‡½æ•°</li>
<li>å‘é€ä»¥å¤ªå¸</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Simple</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">event</span> <span style="color:#a6e22e">Received</span>(<span style="color:#66d9ef">address</span>, <span style="color:#66d9ef">uint</span>);
</span></span><span style="display:flex;"><span>    receive() <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">payable</span> {
</span></span><span style="display:flex;"><span>        emit Received(msg.sender, msg.value);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452409223.png" alt="img"></p>
<h4 id="fallback-å›é€€å‡½æ•°">Fallback å›é€€å‡½æ•°</h4>
<p>åˆçº¦å¯ä»¥æœ€å¤šæœ‰ä¸€ä¸ªå›é€€å‡½æ•°ã€‚å‡½æ•°å£°æ˜ä¸ºï¼š <code>fallback () external [payable]</code> æˆ– <code>fallback (bytes calldata input) external [payable] returns (bytes memory output)</code>ã€‚</p>
<p>æ²¡æœ‰ã€€<code>function</code>ã€€å…³é”®å­—ã€‚ã€€å¿…é¡»æ˜¯ã€€<code>external</code>ã€€å¯è§æ€§ï¼Œå®ƒå¯ä»¥æ˜¯ <code>virtual</code> çš„ï¼Œå¯ä»¥è¢«é‡è½½ä¹Ÿå¯ä»¥æœ‰ åç»­ä¼šè®²åˆ°çš„ <code>ä¿®æ”¹å™¨modifier</code> ã€‚</p>
<p>å¦‚æœåœ¨ä¸€ä¸ªå¯¹åˆçº¦è°ƒç”¨ä¸­ï¼Œæ²¡æœ‰å…¶ä»–å‡½æ•°ä¸ç»™å®šçš„å‡½æ•°æ ‡è¯†ç¬¦åŒ¹é… ï¼Œ<code>fallback</code>ä¼šè¢«è°ƒç”¨ã€‚ æˆ–è€…åœ¨æ²¡æœ‰ <code>receive å‡½æ•°</code>ã€€æ—¶ï¼Œè€Œæ²¡æœ‰æä¾›é™„åŠ æ•°æ®å¯¹åˆçº¦è°ƒç”¨ï¼Œé‚£ä¹ˆ<code>fallback å‡½æ•°</code>ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>fallbackã€€å‡½æ•°å§‹ç»ˆä¼šæ¥æ”¶æ•°æ®ï¼Œä½†ä¸ºäº†åŒæ—¶æ¥æ”¶ä»¥å¤ªæ—¶ï¼Œå¿…é¡»æ ‡è®°ä¸ºã€€<code>payable</code> ã€‚</p>
<p>å¦‚æœä½¿ç”¨äº†å¸¦å‚æ•°çš„ç‰ˆæœ¬ï¼Œ <code>input</code> å°†åŒ…å«å‘é€åˆ°åˆçº¦çš„å®Œæ•´æ•°æ®ï¼ˆç­‰äº <code>msg.data</code> ï¼‰ï¼Œå¹¶ä¸”é€šè¿‡ <code>output</code> è¿”å›æ•°æ®ã€‚ è¿”å›æ•°æ®ä¸æ˜¯ ABI ç¼–ç è¿‡çš„æ•°æ®ï¼Œç›¸åï¼Œå®ƒè¿”å›ä¸ç»è¿‡ä¿®æ”¹çš„æ•°æ®ã€‚</p>
<p>æ›´ç³Ÿçš„æ˜¯ï¼Œå¦‚æœ<code>å›é€€å‡½</code>æ•°åœ¨æ¥æ”¶ä»¥å¤ªæ—¶è°ƒç”¨ï¼Œå¯èƒ½åªæœ‰ 2300 gas å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>ä¸ä»»ä½•å…¶ä»–å‡½æ•°ä¸€æ ·ï¼Œåªè¦æœ‰è¶³å¤Ÿçš„ gas ä¼ é€’ç»™å®ƒï¼Œ<code>å›é€€å‡½æ•°</code>å°±å¯ä»¥æ‰§è¡Œå¤æ‚çš„æ“ä½œã€‚</p>
<p><code>payable</code> çš„<code>fallbackå‡½æ•°</code>ä¹Ÿå¯ä»¥åœ¨<code>pure</code>Â·ä»¥å¤ªè½¬è´¦çš„æ—¶å€™æ‰§è¡Œï¼Œ å¦‚æœæ²¡æœ‰ã€€receive ä»¥å¤ªå‡½æ•° æ¨èæ€»æ˜¯å®šä¹‰ä¸€ä¸ªreceiveå‡½æ•°ï¼Œè€Œä¸æ˜¯å®šä¹‰ä¸€ä¸ª<code>payable</code> çš„fallbackå‡½æ•°ï¼Œ</p>
<p>å¦‚æœæƒ³è¦è§£ç è¾“å…¥æ•°æ®ï¼Œé‚£ä¹ˆå‰å››ä¸ªå­—èŠ‚ç”¨ä½œå‡½æ•°é€‰æ‹©å™¨ï¼Œç„¶åç”¨ <code>abi.decode</code> ä¸æ•°ç»„åˆ‡ç‰‡è¯­æ³•ä¸€èµ·ä½¿ç”¨æ¥è§£ç ABIç¼–ç çš„æ•°æ®ï¼š</p>
<pre tabindex="0"><code>(c, d) = abi.decode(_input[4:], (uint256, uint256));
</code></pre><p>è¯·æ³¨æ„ï¼Œè¿™ä»…åº”ä½œä¸ºæœ€åçš„æ‰‹æ®µï¼Œè€Œåº”ä½¿ç”¨å¯¹åº”çš„å‡½æ•°ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#75715e">// SPDX-License-Identifier: GPL-3.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">8</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Test</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// å‘é€åˆ°è¿™ä¸ªåˆçº¦çš„æ‰€æœ‰æ¶ˆæ¯éƒ½ä¼šè°ƒç”¨æ­¤å‡½æ•°ï¼ˆå› ä¸ºè¯¥åˆçº¦æ²¡æœ‰å…¶å®ƒå‡½æ•°ï¼‰ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// å‘è¿™ä¸ªåˆçº¦å‘é€ä»¥å¤ªå¸ä¼šå¯¼è‡´å¼‚å¸¸ï¼Œå› ä¸º fallback å‡½æ•°æ²¡æœ‰ `payable` ä¿®é¥°ç¬¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    fallback() <span style="color:#66d9ef">external</span> { x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint</span> x;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// è¿™ä¸ªåˆçº¦ä¼šä¿ç•™æ‰€æœ‰å‘é€ç»™å®ƒçš„ä»¥å¤ªå¸ï¼Œæ²¡æœ‰åŠæ³•è¿”è¿˜ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">TestPayable</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint</span> y;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// é™¤äº†çº¯è½¬è´¦å¤–ï¼Œæ‰€æœ‰çš„è°ƒç”¨éƒ½ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// (å› ä¸ºé™¤äº† receive å‡½æ•°å¤–ï¼Œæ²¡æœ‰å…¶ä»–çš„å‡½æ•°).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// ä»»ä½•å¯¹åˆçº¦éç©ºcalldata è°ƒç”¨ä¼šæ‰§è¡Œå›é€€å‡½æ•°(å³ä½¿æ˜¯è°ƒç”¨å‡½æ•°é™„åŠ ä»¥å¤ª).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    fallback() <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">payable</span> { x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; y <span style="color:#f92672">=</span> msg.value; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// çº¯è½¬è´¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä¾‹å¦‚å¯¹æ¯ä¸ªç©ºempty calldataçš„è°ƒç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    receive() <span style="color:#66d9ef">external</span> <span style="color:#66d9ef">payable</span> { x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; y <span style="color:#f92672">=</span> msg.value; }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">Caller</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">callTest</span>(Test test) <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span>) {
</span></span><span style="display:flex;"><span>        (<span style="color:#66d9ef">bool</span> success,) <span style="color:#f92672">=</span> <span style="color:#66d9ef">address</span>(test).call(abi.encodeWithSignature(<span style="color:#e6db74">&#34;nonExistingFunction()&#34;</span>));
</span></span><span style="display:flex;"><span>        require(success);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//  test.x ç»“æœå˜æˆ == 1ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// address(test) ä¸å…è®¸ç›´æ¥è°ƒç”¨ send ,  å› ä¸º test æ²¡æœ‰ payable å›é€€å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//  è½¬åŒ–ä¸º address payable ç±»å‹ , ç„¶åæ‰å¯ä»¥è°ƒç”¨ send
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">address</span> <span style="color:#66d9ef">payable</span> testPayable <span style="color:#f92672">=</span> <span style="color:#66d9ef">payable</span>(<span style="color:#66d9ef">address</span>(test));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        testPayable.transfer(<span style="color:#ae81ff">2</span> <span style="color:#66d9ef">ether</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ä»¥ä¸‹å°†ä¸ä¼šç¼–è¯‘ï¼Œä½†å¦‚æœæœ‰äººå‘è¯¥åˆçº¦å‘é€ä»¥å¤ªå¸ï¼Œäº¤æ˜“å°†å¤±è´¥å¹¶æ‹’ç»ä»¥å¤ªå¸ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// test.send(2 etherï¼‰;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">callTestPayable</span>(TestPayable test) <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">bool</span>) {
</span></span><span style="display:flex;"><span>        (<span style="color:#66d9ef">bool</span> success,) <span style="color:#f92672">=</span> <span style="color:#66d9ef">address</span>(test).call(abi.encodeWithSignature(<span style="color:#e6db74">&#34;nonExistingFunction()&#34;</span>));
</span></span><span style="display:flex;"><span>        require(success);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ç»“æœ test.x ä¸º 1  test.y ä¸º 0.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        (success,) <span style="color:#f92672">=</span> <span style="color:#66d9ef">address</span>(test).call{value<span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>}(abi.encodeWithSignature(<span style="color:#e6db74">&#34;nonExistingFunction()&#34;</span>));
</span></span><span style="display:flex;"><span>        require(success);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ç»“æœtest.x ä¸º1 è€Œ test.y ä¸º 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å‘é€ä»¥å¤ªå¸, TestPayable çš„ receiveã€€å‡½æ•°è¢«è°ƒç”¨ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å› ä¸ºå‡½æ•°æœ‰å­˜å‚¨å†™å…¥, ä¼šæ¯”ç®€å•çš„ä½¿ç”¨ send æˆ– transfer æ¶ˆè€—æ›´å¤šçš„ gasã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// å› æ­¤ä½¿ç”¨åº•å±‚çš„callè°ƒç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        (success,) <span style="color:#f92672">=</span> <span style="color:#66d9ef">address</span>(test).call{value<span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span> <span style="color:#66d9ef">ether</span>}(<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>        require(success);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ç»“æœ test.x ä¸º 2 è€Œ test.y ä¸º 2 ether.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="https://zhenqioss.oss-cn-beijing.aliyuncs.com/qiucode2020/1671452441529.png" alt="img"></p>
        </article>
    </div>

    
       	






<div id="comments" class="post-comments">
  <div class="comment-head">
    <div class="comment-headline">
      <i class="fa fa-comments fa-fw"></i>
      
    </div>
  
  </div>
  <div class="comment-wrap">
  
  
    <div>      
      <div class="comment-loading">
    <i class="fa fa-sync fa-spin"></i>
  </div>
      <div class="waline-container"></div>



    </div>
  
  </div>
</div>  

    
</div>




<script>
    
    
    
    
    
    
    

    
    
</script>


<script>
    let activeElement;
    let elements;
    
    

    
        
    
    
    
    

    
    
    

    
        
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    

    

    
    
    

    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
</script>
 





<script>
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</script>



<script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</script>
<script>
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
            
    
            
    
    
    
            
    
    
    
    
</script><aside class="Qc_aside">

<section class="Qc_aside_item tags"> 
    <div class="Qc_aside_item-title"> 
        <i class="iconfont icon-A67" style="margin-right: 8px;font-size: 17px"></i> 
        <span class="text">æ–‡ç« åˆ†ç±»</span> 
        <span class="qccq_mac"></span> 
    </div> 
    <div class="Qc_aside_item-contain" style="padding:10px"> 
        <div class="tag"></div> 
		<ul class="list">
			
			
			   
			<li class="item"> 
				<a class="link" href="/categories/bootstraptable/">BootstrapTable </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/centos/">CentOS </a>
				<span class="widget__counter widget__counter--bubble">4</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/chrome%E6%89%A9%E5%B1%95/">Chromeæ‰©å±• </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/cocos2d-x/">cocos2d-x </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/docker/">Docker </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/extjs/">extjs </a>
				<span class="widget__counter widget__counter--bubble">1</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/fastadmin/">Fastadmin </a>
				<span class="widget__counter widget__counter--bubble">2</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/git/">Git </a>
				<span class="widget__counter widget__counter--bubble">5</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/golang/">golang </a>
				<span class="widget__counter widget__counter--bubble">36</span>
			</li>
			
			   
			<li class="item"> 
				<a class="link" href="/categories/java/">Java </a>
				<span class="widget__counter widget__counter--bubble">3</span>
			</li>
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
			
			   
	</div>
</section>




<section class="Qc_aside_item tags"> 
    <div class="Qc_aside_item-title"> 
        <i class="iconfont icon-A67" style="margin-right: 8px;font-size: 17px"></i> 
        <span class="text">æ ‡ç­¾äº‘</span> 
        <span class="xccx_mac"></span> 
    </div> 
     <div class="Qc_aside_item-contain" style="padding:10px"> 
        <div class="tag"></div> 
        <ul class="cloud">
            

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/abstract/" title="abstract">abstract</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/ag-grid/" title="ag-grid">ag-grid</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/apache/" title="Apache">Apache</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/array/" title="array">array</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/bootstraptable-%E9%9A%90%E8%97%8F/%E6%98%BE%E7%A4%BA%E8%A1%A8%E6%A0%BC%E8%A1%8C/" title="BootstrapTable éšè—/æ˜¾ç¤ºè¡¨æ ¼è¡Œ">BootstrapTable éšè—/æ˜¾ç¤ºè¡¨æ ¼è¡Œ</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/branch/" title="branch">branch</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/break/" title="break">break</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/centos/" title="CentOS">CentOS</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/centos7/" title="CentOS7">CentOS7</a>
            </li>

                
            <li class="item">
                <a style="background:#4C83FF" href="/tags/channel/" title="channel">channel</a>
            </li>

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                
         </ul> 
        </div> 
    </section>



    

    <section class="sticky_layout"><style>

    .card-widget:first-child {
        margin-top: 0
    }

    @media screen and (max-width:900px) {
        .card-widget:first-child {
            margin-top: 20px
        }
    }

     .card-widget {
        position: relative;
        overflow: hidden;
        margin-top: 20px;
        padding: 20px 24px;
        color:var(--main)
    }

     .card-widget,
    #recent-posts>.recent-post-item,
    .cardHover,
    .error404 #error-wrap .error-content,
    .layout>.recent-posts .pagination>:not(.space),
    .layout>div:first-child:not(.recent-posts) {
        border-radius: 8px;
        background: var(--background);
        -webkit-box-shadow: var(--card-box-shadow);
        box-shadow: var(--card-box-shadow);
        -webkit-transition: all .3s;
        -moz-transition: all .3s;
        -o-transition: all .3s;
        -ms-transition: all .3s;
        transition: all .3s
    }

    .card-widget:hover,
    #recent-posts>.recent-post-item:hover,
    .cardHover:hover,
    .error404 #error-wrap .error-content:hover,
    .layout>.recent-posts .pagination>:not(.space):hover,
    .layout>div:first-child:not(.recent-posts):hover {
        -webkit-box-shadow: var(--card-hover-box-shadow);
        box-shadow: var(--card-hover-box-shadow)
    }



    .item-headline {
        padding-bottom: 6px;
        font-size: 1.2em
    }

     .item-headline span {
        margin-left: 6px
    }

   
 
     @media screen and (min-width:900px) {
        .sticky_layout {
            position: sticky;
            position: -webkit-sticky;
            top: 60px;
            -webkit-transition: top .3s;
            -moz-transition: top .3s;
            -o-transition: top .3s;
            -ms-transition: top .3s;
            transition: top .3s
        }
    } 

    

 

    



    #card-toc .toc-percentage {
        float: right;
        margin-top: -9px;
        color: #a9a9a9;
        font-style: italic;
        font-size: 140%
    }

    #card-toc .toc-content {
        overflow-y: scroll;
        overflow-y: overlay;
        margin: 0 -24px;
        max-height: calc(100vh - 120px)
    }

    @media screen and (max-width:900px) {
         #card-toc .toc-content {
            max-height: calc(100vh - 140px)
        }
    }

     #card-toc .toc-content>* {
        margin: 0 20px !important
    }



     #card-toc .toc-content>*>.toc-item>.toc-child {
        margin-left: 10px;
        padding-left: 10px;
        border-left: 1px solid var(--dark-grey)
    }

    #card-toc .toc-content:not(.is-expand) .toc-child {
        display: none
    }

    @media screen and (max-width:900px) {
        #card-toc .toc-content:not(.is-expand) .toc-child {
            display: block !important
        }
    }

   #card-toc .toc-content:not(.is-expand) .toc-item.active .toc-child {
        display: block
    }

    #card-toc .toc-content li,
     #card-toc .toc-content ol {
        list-style: none
    }

     #card-toc .toc-content>ol {
        padding: 0 !important
    }

    #card-toc .toc-content ol {
        margin: 0;
        padding-left: 18px
    }

    #card-toc .toc-content .toc-link {
        display: block;
        margin: 4px 0;
        padding: 1px 6px;
        color: var(--toc-link-color);
        -webkit-transition: all .2s ease-in-out;
        -moz-transition: all .2s ease-in-out;
        -o-transition: all .2s ease-in-out;
        -ms-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out
    }

     #card-toc .toc-content .toc-link:hover {
        color: #49b1f5
    }

    #card-toc .toc-content .toc-link.active {
        background: #00c4b6;
        color: #fff
    }

     .sticky_layout:only-child>:first-child {
        margin-top: 20px
    }


</style>
    <div class="card-widget" id="card-toc">
        <div class="item-headline">
            <i class="fa fa-bars"></i>
            <span>ç›®å½•</span>
            <span class="toc-percentage">0</span>
        </div>
        <div class="toc-content"><ol class="toc">
                        <li class="toc-item toc-level-3">
                            <a class="toc-link" href="#%e7%8a%b6%e6%80%81%e5%8f%98%e9%87%8f%e5%8f%af%e8%a7%81%e6%80%a7" aria-label="çŠ¶æ€å˜é‡å¯è§æ€§" data-pjax-state="anchor">
                                <span class="toc-number">1</span> 
                                <span class="toc-text">çŠ¶æ€å˜é‡å¯è§æ€§</span>
                            </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e5%87%bd%e6%95%b0%e5%8f%af%e8%a7%81%e6%80%a7" aria-label="å‡½æ•°å¯è§æ€§" data-pjax-state="anchor">
                            <span class="toc-number">3</span> 
                            <span class="toc-text">å‡½æ•°å¯è§æ€§</span>
                        </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e5%90%88%e7%ba%a6%e4%b9%8b%e5%a4%96%e7%9a%84%e5%87%bd%e6%95%b0" aria-label="åˆçº¦ä¹‹å¤–çš„å‡½æ•°" data-pjax-state="anchor">
                            <span class="toc-number">3</span> 
                            <span class="toc-text">åˆçº¦ä¹‹å¤–çš„å‡½æ•°</span>
                        </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0%e4%b8%8e%e8%bf%94%e5%9b%9e%e5%80%bc" aria-label="å‡½æ•°å‚æ•°ä¸è¿”å›å€¼" data-pjax-state="anchor">
                            <span class="toc-number">3</span> 
                            <span class="toc-text">å‡½æ•°å‚æ•°ä¸è¿”å›å€¼</span>
                        </a><ol class="toc-child">

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#1%e5%87%bd%e6%95%b0%e5%85%a5%e5%8f%82" aria-label="1ã€å‡½æ•°å…¥å‚" data-pjax-state="anchor">
                            <span class="toc-number">4</span> 
                            <span class="toc-text">1ã€å‡½æ•°å…¥å‚</span>
                        </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#2%e8%bf%94%e5%9b%9e%e5%80%bc" aria-label="2ã€è¿”å›å€¼" data-pjax-state="anchor">
                            <span class="toc-number">4</span> 
                            <span class="toc-text">2ã€è¿”å›å€¼</span>
                        </a></li></ol>
                        </li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e7%8a%b6%e6%80%81%e5%8f%af%e5%8f%98%e6%80%a7" aria-label="çŠ¶æ€å¯å˜æ€§" data-pjax-state="anchor">
                            <span class="toc-number">3</span> 
                            <span class="toc-text">çŠ¶æ€å¯å˜æ€§</span>
                        </a><ol class="toc-child">

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#view" aria-label="view" data-pjax-state="anchor">
                            <span class="toc-number">4</span> 
                            <span class="toc-text">view</span>
                        </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#pure" aria-label="pure" data-pjax-state="anchor">
                            <span class="toc-number">4</span> 
                            <span class="toc-text">pure</span>
                        </a></li></ol>
                        </li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#%e7%89%b9%e5%88%ab%e7%9a%84%e5%87%bd%e6%95%b0" aria-label="ç‰¹åˆ«çš„å‡½æ•°" data-pjax-state="anchor">
                            <span class="toc-number">3</span> 
                            <span class="toc-text">ç‰¹åˆ«çš„å‡½æ•°</span>
                        </a><ol class="toc-child">

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#receive-%e6%8e%a5%e6%94%b6%e4%bb%a5%e5%a4%aa%e5%87%bd%e6%95%b0" aria-label="receive æ¥æ”¶ä»¥å¤ªå‡½æ•°" data-pjax-state="anchor">
                            <span class="toc-number">4</span> 
                            <span class="toc-text">receive æ¥æ”¶ä»¥å¤ªå‡½æ•°</span>
                        </a></li>

                    <li class="toc-item toc-level-2">
                        <a class="toc-link" href="#fallback-%e5%9b%9e%e9%80%80%e5%87%bd%e6%95%b0" aria-label="Fallback å›é€€å‡½æ•°" data-pjax-state="anchor">
                            <span class="toc-number">4</span> 
                            <span class="toc-text">Fallback å›é€€å‡½æ•°</span>
                        </a>
                    </li>
                </ol>
                </li>
            </ol>

        </div>
    </div>






<script>

    const btf = {
    
        scrollToDest: (pos, time = 500) => {
            const currentPos = window.pageYOffset
            if (currentPos > pos) pos = pos - 70
        
            if ('scrollBehavior' in document.documentElement.style) {
                window.scrollTo({
                top: pos,
                behavior: 'smooth'
                })
                return
            }
        
            let start = null
            pos = +pos
            window.requestAnimationFrame(function step (currentTime) {
                start = !start ? currentTime : start
                const progress = currentTime - start
                if (currentPos < pos) {
                window.scrollTo(0, ((pos - currentPos) * progress / time) + currentPos)
                } else {
                window.scrollTo(0, currentPos - ((currentPos - pos) * progress / time))
                }
                if (progress < time) {
                window.requestAnimationFrame(step)
                } else {
                window.scrollTo(0, pos)
                }
            })
        },
    
       
        getEleTop: ele => {
            let actualTop = ele.offsetTop
            let current = ele.offsetParent
        
            while (current !== null) {
                actualTop += current.offsetTop
                current = current.offsetParent
            }
        
            return actualTop
        },

        updateAnchor: (anchor) => {
            if (anchor !== window.location.hash) {
                if (!anchor) anchor = location.pathname
                const title = "ç§‹ç è®°å½•"
                window.history.replaceState({
                    url: location.href,
                    title
                }, title, anchor)
            }
        },


        throttle: function (func, wait, options) {
            let timeout, context, args
            let previous = 0
            if (!options) options = {}
        
            const later = function () {
                previous = options.leading === false ? 0 : new Date().getTime()
                timeout = null
                func.apply(context, args)
                if (!timeout) context = args = null
            }
        
            const throttled = function () {
                const now = new Date().getTime()
                if (!previous && options.leading === false) previous = now
                
                const remaining = wait - (now - previous)
                context = this
                args = arguments
                if (remaining <= 0 || remaining > wait) {
                    if (timeout) {
                        clearTimeout(timeout)
                        timeout = null
                    }
                    previous = now
                    func.apply(context, args)
                    if (!timeout) context = args = null
                } else if (!timeout && options.trailing !== false) {
                    timeout = setTimeout(later, remaining)
                }
            }
        
            return throttled
        },

        getScrollPercent: (currentTop, ele) => {
            const docHeight = ele.clientHeight
            const winHeight = document.documentElement.clientHeight
            const headerHeight = ele.offsetTop
            const contentMath = (docHeight > winHeight) ? (docHeight - winHeight) : (document.documentElement.scrollHeight - winHeight)
            const scrollPercent = (currentTop - headerHeight) / (contentMath)
            const scrollPercentRounded = Math.round(scrollPercent * 100)
            const percentage = (scrollPercentRounded > 100) ? 100 : (scrollPercentRounded <= 0) ? 0 : scrollPercentRounded
            return percentage
        },




    }  



     

    const scrollFnToDo = function () {
      const isToc = true 
      const isAnchor = true 
      const $article = document.getElementById('article-container')
  
      if (!($article && (isToc || isAnchor))) return
  
      let $tocLink, $cardToc, autoScrollToc, $tocPercentage, isExpand
  
      if (isToc) {
        const $cardTocLayout = document.getElementById('card-toc')
        $cardToc = $cardTocLayout.getElementsByClassName('toc-content')[0]
        $tocLink = $cardToc.querySelectorAll('.toc-link')
        $tocPercentage = $cardTocLayout.querySelector('.toc-percentage')
        isExpand = $cardToc.classList.contains('is-expand')
  
        window.mobileToc = {
          open: () => {
            $cardTocLayout.style.cssText = 'animation: toc-open .3s; opacity: 1; right: 55px'
          },
  
          close: () => {
            $cardTocLayout.style.animation = 'toc-close .2s'
            setTimeout(() => {
              $cardTocLayout.style.cssText = "opacity:''; animation: ''; right: ''"
            }, 100)
          }
        }
  
        
        $cardToc.addEventListener('click', e => {
          e.preventDefault()
          const target = e.target.classList
          if (target.contains('toc-content')) return
          const $target = target.contains('toc-link')
            ? e.target
            : e.target.parentElement
          btf.scrollToDest(btf.getEleTop(document.getElementById(decodeURI($target.getAttribute('href')).replace('#', ''))), 300)
          if (window.innerWidth < 900) {
            window.mobileToc.close()
          }
        })
  
        autoScrollToc = item => {
          const activePosition = item.getBoundingClientRect().top
          const sidebarScrollTop = $cardToc.scrollTop
          if (activePosition > (document.documentElement.clientHeight - 100)) {
            $cardToc.scrollTop = sidebarScrollTop + 150
          }
          if (activePosition < 100) {
            $cardToc.scrollTop = sidebarScrollTop - 150
          }
        }
      }
  
      
      const list = $article.querySelectorAll('h1,h2,h3,h4,h5,h6')
      let detectItem = ''
      const findHeadPosition = function (top) {
        if (top === 0) {
          return false
        }
  
        let currentId = ''
        let currentIndex = ''
  
        list.forEach(function (ele, index) {
          if (top > btf.getEleTop(ele) - 80) {
            const id = ele.id
            currentId = id ? '#' + encodeURI(id) : ''
            currentIndex = index
          }
        })
  
        if (detectItem === currentIndex) return
  
        if (isAnchor) btf.updateAnchor(currentId)
  
        detectItem = currentIndex
  
        if (isToc) {
          $cardToc.querySelectorAll('.active').forEach(i => { i.classList.remove('active') })
  
          if (currentId === '') {
            return
          }
  
          const currentActive = $tocLink[currentIndex]
          currentActive.classList.add('active')
  
          setTimeout(() => {
            autoScrollToc(currentActive)
          }, 0)
  
          if (isExpand) return
          let parent = currentActive.parentNode
  
          for (; !parent.matches('.toc'); parent = parent.parentNode) {
            if (parent.matches('li')) parent.classList.add('active')
          }
        }
      }
  
      
      window.tocScrollFn = btf.throttle(() => {
        const currentTop = window.scrollY || document.documentElement.scrollTop
        
         if(isToc){
          $tocPercentage.textContent = btf.getScrollPercent(currentTop, $article)
        }
        findHeadPosition(currentTop)
      }, 100)
  
      window.addEventListener('scroll', tocScrollFn)
    }
  

    scrollFnToDo()
</script>





    </section>
     

</aside></div>
	<footer class="Qc_footer">
		<div class="Qc_container">
			<div class="item">
				<p>2018 - 2023 ç‰ˆæƒæ‰€æœ‰ Â©<a href="http://beian.miit.gov.cn/">é—½ICPå¤‡2021005633å·-2</a></p>
			</div>
			<div class="item">
				<p>
					<strong>æœ¬ç«™ç”± <span style="color:blue;font:bold;">Hugo</span> é©±åŠ¨çš„ 
						<a href="https://github.com/zhenqicai/hugo-theme-kiwi" target="_blank" >hugo-theme-kiwi V0.0.1</a> ä¸»é¢˜å¼ºåŠ›æ”¯æ’‘</strong>
				</p>
			</div>
		</div>
		</div>
	</footer>

	<style>
		.joe_action {
			position: fixed;
			bottom: 90px;
			right: 30px;
			z-index: 333;
		}


		.joe_action_item.scroll.active {
			visibility: visible;
			-webkit-transform: scale(1);
			transform: scale(1);
		}

		.joe_action_item.scroll {
			visibility: hidden;
			-webkit-transform: scale(0);
			transform: scale(0);
			transition: visibility 0.35s, -webkit-transform 0.35s;
			transition: visibility 0.35s, transform 0.35s;
			transition: visibility 0.35s, transform 0.35s, -webkit-transform 0.35s;
		}

		.joe_action_item {
			box-shadow: rgb(0 0 0 / 10%) 0px 0px 10px, rgb(0 0 0 / 20%) 0px 5px 20px;
			background: var(--darkreader-bg--background);
		}
		.joe_action_item {
			position: relative;
			display: flex;
			align-items: center;
			justify-content: center;
			width: 40px;
			height: 40px;
			background: var(--background);
			border-radius: 50%;
			cursor: pointer;
			margin-top: 15px;
			box-shadow: 0 0 10px rgb(0 0 0 / 10%), 0 5px 20px rgb(0 0 0 / 20%);
		}
		.joe_action_item svg {
			position: absolute;
			width: 25px;
			height: 25px;
			fill: var(--theme);
		}



		.joe_action_item.mode svg{-webkit-transform:scale(0);transform:scale(0);opacity:0}
		.joe_action_item.mode svg.active{-webkit-transform:scale(1);transform:scale(1);opacity:1}
		
	</style>


	<div class="joe_action">
		<div class="joe_action_item scroll ">
			<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25">
				<path d="M725.902 498.916c18.205-251.45-93.298-410.738-205.369-475.592l-6.257-3.982-6.258 3.414c-111.502 64.853-224.711 224.142-204.8 475.59-55.751 53.476-80.214 116.623-80.214 204.8v15.36l179.2-35.27c11.378 40.39 58.596 69.973 113.21 69.973 54.613 0 101.262-29.582 112.64-68.836l180.337 36.41v-15.36c-.569-89.885-25.031-153.6-82.489-206.507zM571.733 392.533c-33.564 31.29-87.04 28.445-118.329-5.12s-28.444-87.04 5.12-117.76c33.565-31.289 87.04-28.444 118.33 5.12s28.444 86.471-5.12 117.76zm-56.32 368.64c-35.84 0-64.284 29.014-64.284 64.285 0 35.84 54.044 182.613 64.284 182.613s64.285-146.773 64.285-182.613c0-35.271-29.014-64.285-64.285-64.285z"></path>
			</svg>
		</div>
		<div class="joe_action_item mode">
			<svg class="icon-1 " viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25">
				<path d="M587.264 104.96c33.28 57.856 52.224 124.928 52.224 196.608 0 218.112-176.128 394.752-393.728 394.752-29.696 0-58.368-3.584-86.528-9.728C223.744 832.512 369.152 934.4 538.624 934.4c229.376 0 414.72-186.368 414.72-416.256 1.024-212.992-159.744-389.12-366.08-413.184z"></path>
				<path d="M340.48 567.808l-23.552-70.144-70.144-23.552 70.144-23.552 23.552-70.144 23.552 70.144 70.144 23.552-70.144 23.552-23.552 70.144zM168.96 361.472l-30.208-91.136-91.648-30.208 91.136-30.208 30.72-91.648 30.208 91.136 91.136 30.208-91.136 30.208-30.208 91.648z"></path>
			</svg>
			<svg class="icon-2 active" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="25" height="25">
				<path d="M234.24 512a277.76 277.76 0 1 0 555.52 0 277.76 277.76 0 1 0-555.52 0zM512 187.733a42.667 42.667 0 0 1-42.667-42.666v-102.4a42.667 42.667 0 0 1 85.334 0v102.826A42.667 42.667 0 0 1 512 187.733zm-258.987 107.52a42.667 42.667 0 0 1-29.866-12.373l-72.96-73.387a42.667 42.667 0 0 1 59.306-59.306l73.387 72.96a42.667 42.667 0 0 1 0 59.733 42.667 42.667 0 0 1-29.867 12.373zm-107.52 259.414H42.667a42.667 42.667 0 0 1 0-85.334h102.826a42.667 42.667 0 0 1 0 85.334zm34.134 331.946a42.667 42.667 0 0 1-29.44-72.106l72.96-73.387a42.667 42.667 0 0 1 59.733 59.733l-73.387 73.387a42.667 42.667 0 0 1-29.866 12.373zM512 1024a42.667 42.667 0 0 1-42.667-42.667V878.507a42.667 42.667 0 0 1 85.334 0v102.826A42.667 42.667 0 0 1 512 1024zm332.373-137.387a42.667 42.667 0 0 1-29.866-12.373l-73.387-73.387a42.667 42.667 0 0 1 0-59.733 42.667 42.667 0 0 1 59.733 0l72.96 73.387a42.667 42.667 0 0 1-29.44 72.106zm136.96-331.946H878.507a42.667 42.667 0 1 1 0-85.334h102.826a42.667 42.667 0 0 1 0 85.334zM770.987 295.253a42.667 42.667 0 0 1-29.867-12.373 42.667 42.667 0 0 1 0-59.733l73.387-72.96a42.667 42.667 0 1 1 59.306 59.306l-72.96 73.387a42.667 42.667 0 0 1-29.866 12.373z"></path>
			</svg>
		</div>
	</div>

	


	
	

	

	
	
	<script src="/js/highlight.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>

   

   <script>
	 function registerImageLoadEvent() {
		const images = document.querySelectorAll('.sidebar img, .Qc_post img, .vendors-list img');
				
		const callback = (entries) => {
			entries.forEach(item => {
				if (item.intersectionRatio > 0) {
					let ele = item.target;
					let imgSrc = ele.getAttribute('src');
					ele.setAttribute("src","1.png")
					ele.setAttribute("data-lazy-src",imgSrc)
					ele.classList.add("lazyload")
			
				}
			})
		};

		Array.from(images).forEach(img => {
			const bg = '/images/loading.gif' 

			img.setAttribute("data-lazy-src",img.src)
			img.src = bg
			
		})
		
		
		
		
		
		
		
		
		
			

		
		
		
	}

	registerImageLoadEvent()

   </script>




 

 <script src="/js/lazyload.life.min.js"></script>

 <script>
	const lazyloadImg = () => {
      window.lazyLoadInstance = new LazyLoad({
        elements_selector: 'img',
        threshold: 0,
        data_src: 'lazy-src'
      })
    }

	lazyloadImg()
 </script>


	</div>
</body>

<script>

	
	
	
	
	
	
	
	
	


	
	

	
	
				
	

	
	
	
	

	

	

	
	
	
	
	

	
	
		
	
	   </script>

</html>











<script>
	
    
	var mybutton = document.querySelector(".joe_action .joe_action_item.scroll")
    window.onscroll = function () {
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            
            
			mybutton.classList.add("active")
        } else {
            
            
			mybutton.classList.remove("active")
        }
    };

	mybutton.addEventListener("click",() => {
		document.documentElement.scrollTop = document.body.scrollTop = 0;
	})
	


</script>



<script>
	var themeBtn = document.querySelector(".joe_action .joe_action_item.mode")
	let icon_1 = document.querySelector(".joe_action .joe_action_item.mode .icon-1")
	let icon_2 = document.querySelector(".joe_action .joe_action_item.mode .icon-2")
    themeBtn.addEventListener("click", () => {
		
        if (icon_1.classList.contains("active")) {
            icon_1.classList.remove('active');
			icon_2.classList.add('active');
			document.querySelector("html").removeAttribute("data-night")
            localStorage.setItem("pref-theme", 'light');
        } else {
			icon_2.classList.remove('active');
			icon_1.classList.add('active');
			document.querySelector("html").setAttribute("data-night","night")
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>



<script>
    
    

    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
</script>



